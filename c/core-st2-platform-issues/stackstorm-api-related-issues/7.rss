<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:discourse="http://www.discourse.org/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>API - StackStorm Support (ARCHIVED)</title>
    <link>https://forum.stackstorm.com/c/core-st2-platform-issues/stackstorm-api-related-issues/7</link>
    <description>Topics in the &#39;API&#39; category </description>
    
      <lastBuildDate>Thu, 01 Jul 2021 21:40:06 +0000</lastBuildDate>
      <atom:link href="https://forum.stackstorm.com/c/core-st2-platform-issues/stackstorm-api-related-issues/7.rss" rel="self" type="application/rss+xml" />
        <item>
          <title>St2 apikey create - connection aborted</title>
          <dc:creator><![CDATA[bohn002]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Running Ansible to install StackStorm on an AWS instance. Suddenly having trouble.<br>
Original command:</p>
<pre><code class="lang-auto">ansible-playbook stackstorm.yml -i 'localhost,' --connection=local
</code></pre>
<p>which results in</p>
<pre><code class="lang-auto">TASK [StackStorm.st2chatops : Generate "st2_api_key" if not provided with the "role" or in "defaults/main.yml"] ***
fatal: [ec2-&lt;ip&gt;.***.compute.amazonaws.com]: FAILED! =&gt; {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}```
</code></pre>
<p>changed no_log: false and got a complain about not reaching port 9101 to create the key. Added 9101 to my security group and now still getting connection issues. Ports open to all, 80/443/9100-9103</p>
<pre><code class="lang-auto">fatal: [localhost]: FAILED! =&gt; {"changed": true, "cmd": ["st2", "apikey", "create", "-k"], "delta": "0:00:04.156206", "end": "2021-07-01 21:21:20.928591", "msg": "non-zero return code", "rc": 2, "start": "2021-07-01 21:21:16.772385", "stderr": "", "stderr_lines": [], "stdout": "ERROR: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))", "stdout_lines": ["ERROR: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))"]}
</code></pre>
<p>even running by hand:</p>
<pre><code class="lang-auto">$ st2 apikey create -k
ERROR: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
</code></pre>
<p>What am I missing?</p>
            <p><small>5 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/st2-apikey-create-connection-aborted/1760">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/st2-apikey-create-connection-aborted/1760</link>
          <pubDate>Thu, 01 Jul 2021 21:40:06 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1760</guid>
          <source url="https://forum.stackstorm.com/t/st2-apikey-create-connection-aborted/1760.rss">St2 apikey create - connection aborted</source>
        </item>
        <item>
          <title>Sensor token expired when running in Docker</title>
          <dc:creator><![CDATA[v.sim]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I am running stackstorm in docker <a href="https://github.com/StackStorm/st2-docker" rel="noopener nofollow ugc">https://github.com/StackStorm/st2-docker</a> using the st2 provided docker build.</p>
<p>My sensor is periodically reading/writing values to the stackstorm datastore.<br>
The token is expiring and the program is unable to continue.</p>
<p>I solved this problem in a standard stackstorm ubuntu installation by having the sensor exit(1) and then stackstorm would automatically restart the sensor. This fix however is not working in docker.</p>
<pre><code class="lang-auto">2021-06-30 01:25:02,500 140510655553608 ERROR oc_sensor [-] [qa8 - Sensor]  Failed to connect to datastore. 401 Client Error: Unauthorized
MESSAGE: Unauthorized - Token has expired. for url: http://127.0.0.1:9101/v1/keys/qa8:last_poll_timestamp
2021-06-30 01:25:02,505 140510655553608 ERROR oc_sensor [-] [qa8 - Sensor]  Failed to connect to datastore. 401 Client Error: Unauthorized
MESSAGE: Unauthorized - Token has expired. for url: http://127.0.0.1:9101/v1/keys/qa8:last_poll_timestamp
2021-06-30 01:25:02,511 140510655553608 ERROR oc_sensor [-] [qa8 - Sensor]  Failed to connect to datastore. 401 Client Error: Unauthorized
MESSAGE: Unauthorized - Token has expired. for url: http://127.0.0.1:9101/v1/keys/qa8:last_poll_timestamp
</code></pre>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/sensor-token-expired-when-running-in-docker/1756">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/sensor-token-expired-when-running-in-docker/1756</link>
          <pubDate>Wed, 30 Jun 2021 21:08:24 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1756</guid>
          <source url="https://forum.stackstorm.com/t/sensor-token-expired-when-running-in-docker/1756.rss">Sensor token expired when running in Docker</source>
        </item>
        <item>
          <title>Packs search takes 5 minutes to respond</title>
          <dc:creator><![CDATA[nerv]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I’ve deployed Stackstorm-HA (helm v0.60.0) and noticed that after logging into the Web UI that the Packs tab is completely blank while other tabs like Actions and Rules etc have all populated correctly</p>
<p>I then discovered that /api/v1/packs/index returns a 504 response (/api/packs/ however returns my installed packs no problem)</p>
<p>On the cli if i run “st2 pack search xxx” then it does eventually return the result but it takes around 5mins to complete every time</p>
<p>I’ve now enabled Debug mode and this is what I’m seeing in the API service</p>
<pre><code>2021-04-16 03:30:48,279 DEBUG [-] Proxy configuration: {'http_proxy': None, 'https_proxy': None, 'proxy_ca_bundle_path': None, 'no_proxy': None}
2021-04-16 03:30:48,280 DEBUG [-] Starting new HTTPS connection (1): index.stackstorm.org:443
2021-04-16 03:35:08,804 DEBUG [-] https://index.stackstorm.org:443 "GET /v1/index.json HTTP/1.1" 200 76037
2021-04-16 03:35:08,812 DEBUG [-] Using response spec "200" for endpoint st2api.controllers.v1.packs:packs_controller.index.search.post and status code 200
2021-04-16 03:35:08,813 DEBUG [-] Match path: /packs/index/search
</code></pre>
<p>I couldn’t find any errors but I can see that it really is waiting 5 minutes between “Starting new HTTPS Connection” and actually issuing the GET request</p>
<p>If I run ‘curl <a href="https://index.stackstorm.org/v1/index.json" rel="noopener nofollow ugc">https://index.stackstorm.org/v1/index.json</a>’ from the API container it pulls the full json file in less than a second so I don’t understand why the API service is taking so long!</p>
<p>Any ideas?</p>
<p>Thanks,<br>
Chris</p>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/packs-search-takes-5-minutes-to-respond/1651">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/packs-search-takes-5-minutes-to-respond/1651</link>
          <pubDate>Fri, 16 Apr 2021 04:16:39 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1651</guid>
          <source url="https://forum.stackstorm.com/t/packs-search-takes-5-minutes-to-respond/1651.rss">Packs search takes 5 minutes to respond</source>
        </item>
        <item>
          <title>Stack storm integration with Zabbix is failing when running register_st2_config_to_zabbix.py</title>
          <dc:creator><![CDATA[hv024036dba]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Hello All,</p>
<p>I am trying to integrate stack storm with zabbix and i am following the work plan<br>
</p><aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="https://github.com/StackStorm-Exchange/stackstorm-zabbix" target="_blank" rel="noopener nofollow ugc">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/1744bb2499f5b9237513c648aa4791d6d7e4c0ac.png" class="thumbnail onebox-avatar" width="152" height="152">

<h3><a href="https://github.com/StackStorm-Exchange/stackstorm-zabbix" target="_blank" rel="noopener nofollow ugc">StackStorm-Exchange/stackstorm-zabbix</a></h3>

<p>Contribute to StackStorm-Exchange/stackstorm-zabbix development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>when running the step</p>
<p>/opt/stackstorm/virtualenvs/zabbix/bin/python /opt/stackstorm/packs/zabbix/tools/register_st2_config_to_zabbix.py -z http://<em>. <em><strong>.</strong></em> .</em>/zabbix -u “Admin” -p “*****”</p>
<p>I’m getting error. Saying params are wrong.<br>
{code}<br>
/opt/stackstorm/virtualenvs/zabbix/bin/python /opt/stackstorm/packs/zabbix/tools/register_st2_config_to_zabbix.py -z http://<strong>.</strong><em>.</em><strong>.</strong>/zabbix -u “Admin” -p “*****”<br>
Traceback (most recent call last):<br>
File “/opt/stackstorm/packs/zabbix/tools/register_st2_config_to_zabbix.py”, line 191, in <br>
main()<br>
File “/opt/stackstorm/packs/zabbix/tools/register_st2_config_to_zabbix.py”, line 176, in main<br>
mediatype_id = register_media_type(client, options, mediatype_id)<br>
File “/opt/stackstorm/packs/zabbix/tools/register_st2_config_to_zabbix.py”, line 83, in register_media_type<br>
ret = client.mediatype.create(**params)<br>
File “/opt/stackstorm/virtualenvs/zabbix/lib/python3.6/site-packages/pyzabbix/api.py”, line 82, in fn<br>
args or kwargs<br>
File “/opt/stackstorm/virtualenvs/zabbix/lib/python3.6/site-packages/pyzabbix/api.py”, line 250, in do_request<br>
raise ZabbixAPIException(msg, err[‘code’])<br>
pyzabbix.api.ZabbixAPIException: (“Error -32602: Invalid params., Media type is missing parameters: name while sending {‘jsonrpc’: ‘2.0’, ‘method’: ‘mediatype.create’, ‘params’: {‘description’: ‘StackStorm’, ‘type’: ‘1’, ‘exec_path’: ‘st2_dispatch.py’, ‘exec_params’: ‘-- CHANGE ME : api_url  (e.g. <a href="https://st2-node/api/v1" rel="noopener nofollow ugc">https://st2-node/api/v1</a>)\n-- CHANGE ME : auth_url (e.g. <a href="https://st2-node/auth/v1" rel="noopener nofollow ugc">https://st2-node/auth/v1</a>)\n-- CHANGE ME : login uername of StackStorm --\n-- CHANGE ME : login password of StackStorm --\n{ALERT.SENDTO}\n{ALERT.SUBJECT}\n{ALERT.MESSAGE}\n’}, ‘id’: ‘1’, ‘auth’: ‘b7e4b784f8dc6a930eccf97471f2b39’}”, -32602)<br>
root@stockstorm:~#</p>
<p>{code}</p>
<p>Can any of you guys help me with the above issue.</p>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/stack-storm-integration-with-zabbix-is-failing-when-running-register-st2-config-to-zabbix-py/1473">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/stack-storm-integration-with-zabbix-is-failing-when-running-register-st2-config-to-zabbix-py/1473</link>
          <pubDate>Mon, 09 Nov 2020 12:10:13 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1473</guid>
          <source url="https://forum.stackstorm.com/t/stack-storm-integration-with-zabbix-is-failing-when-running-register-st2-config-to-zabbix-py/1473.rss">Stack storm integration with Zabbix is failing when running register_st2_config_to_zabbix.py</source>
        </item>
        <item>
          <title>#stackstorm#devops</title>
          <dc:creator><![CDATA[Anushree]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Hi All,</p>
<p>I am new to this tool and i want to understand the end to end workflow , please help me with some DOC or videos which can be useful for me.</p>
<p>Thanks in advance.</p>
            <p><small>3 posts - 3 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/stackstorm-devops/1270">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/stackstorm-devops/1270</link>
          <pubDate>Fri, 12 Jun 2020 14:10:20 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1270</guid>
          <source url="https://forum.stackstorm.com/t/stackstorm-devops/1270.rss">#stackstorm#devops</source>
        </item>
        <item>
          <title>Workflow testing</title>
          <dc:creator><![CDATA[rajeeb]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I had an integrated stackstorm on centos7 and I need to test sample workflow using API call through a CURL command? can anyone help me out</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/workflow-testing/1244">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/workflow-testing/1244</link>
          <pubDate>Tue, 19 May 2020 06:02:49 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1244</guid>
          <source url="https://forum.stackstorm.com/t/workflow-testing/1244.rss">Workflow testing</source>
        </item>
        <item>
          <title>Scheduling rule</title>
          <dc:creator><![CDATA[anshikaJain]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>finding problem in getting rule info through api as I’m scheduling it using cron timer. I have created a third party UI so scheduling it through ngx cron editor… but its not getting info from rule</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/scheduling-rule/1238">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/scheduling-rule/1238</link>
          <pubDate>Fri, 15 May 2020 11:55:43 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1238</guid>
          <source url="https://forum.stackstorm.com/t/scheduling-rule/1238.rss">Scheduling rule</source>
        </item>
        <item>
          <title>Polling Sensor - polling twice always</title>
          <dc:creator><![CDATA[NaveenKrishna]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I mean to say - my polling sensor is polling twice at the same instance of time … I doubt two instances of the sensor are running at the same time …</p>
<p>Can anyone help how can i stop the current polling sensor and restart it.</p>
            <p><small>3 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/polling-sensor-polling-twice-always/1208">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/polling-sensor-polling-twice-always/1208</link>
          <pubDate>Tue, 05 May 2020 09:03:07 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1208</guid>
          <source url="https://forum.stackstorm.com/t/polling-sensor-polling-twice-always/1208.rss">Polling Sensor - polling twice always</source>
        </item>
        <item>
          <title>Stackstorm st2api Docker container setup</title>
          <dc:creator><![CDATA[manoj-aps]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Is there any official support to utilize only st2apis and not managing other stackstorm services…I just need to use only st2api service(RabbitMQ and MongoDB as well)</p>
<p>I found official docker files for st2api is<br>
</p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">
      <a href="https://github.com/StackStorm/st2-dockerfiles/tree/master/st2api" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/8d51fa9de575fbc5945b32cbc844d3a9bf328f87.jpeg" class="thumbnail onebox-avatar" width="300" height="300">

<h3><a href="https://github.com/StackStorm/st2-dockerfiles/tree/master/st2api" target="_blank" rel="nofollow noopener">StackStorm/st2-dockerfiles</a></h3>

<p>StackStorm Community Dockerfiles (one-service-per-container) used to build and push images to the StackStorm registry, used in 'stackstorm-ha' K8s Helm chart - StackStorm/st2-dockerfiles</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>but is there any documentation to use it and create a separate REST API docker image for creating executions using Stackstorm.</p>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/stackstorm-st2api-docker-container-setup/1165">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/stackstorm-st2api-docker-container-setup/1165</link>
          <pubDate>Mon, 13 Apr 2020 09:38:03 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1165</guid>
          <source url="https://forum.stackstorm.com/t/stackstorm-st2api-docker-container-setup/1165.rss">Stackstorm st2api Docker container setup</source>
        </item>
        <item>
          <title>Latest Python Version for Stackstorm and packs in official Docker images</title>
          <dc:creator><![CDATA[manoj-aps]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I am using st2-docker setup for stackstorm installation and the setup contains python 2.7.6</p>
<blockquote>
<p>$ st2 --version<br>
st2 3.1.0, on Python 2.7.6</p>
</blockquote>
<p>I need to install ansible pack on stackstorm image and trigger playbooks using stackstorm. Which is causing deprecation warnings and errors due to unsupported python version.</p>
<p>So is there any way I can upgrade python 2.7.6 to latest (2.7.17) also 3.4 to 3.7</p>
<p><a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#control-node-requirements" class="onebox" target="_blank" rel="nofollow noopener">https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#control-node-requirements</a></p>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/latest-python-version-for-stackstorm-and-packs-in-official-docker-images/1164">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/latest-python-version-for-stackstorm-and-packs-in-official-docker-images/1164</link>
          <pubDate>Mon, 13 Apr 2020 09:33:05 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1164</guid>
          <source url="https://forum.stackstorm.com/t/latest-python-version-for-stackstorm-and-packs-in-official-docker-images/1164.rss">Latest Python Version for Stackstorm and packs in official Docker images</source>
        </item>
        <item>
          <title>Latest Stackstorm Docker Image Ubuntu:bionic</title>
          <dc:creator><![CDATA[manoj-aps]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I am looking for Ubuntu 18.04 / 16.04 (bionic/xenial) support in the st2-docker image…it seems there is not upgrade in st2-docker since ubuntu 14.04 (trusty).</p>
<p>I found some docker files for stackstorm-ha, <a href="https://github.com/StackStorm/st2-dockerfiles" class="inline-onebox" rel="nofollow noopener">GitHub - StackStorm/st2-dockerfiles: StackStorm Community Dockerfiles (one-service-per-container) used to build and push images to the StackStorm registry, used in 'stackstorm-ha' K8s Helm chart</a>. but couldn’t find the complete stackstorm community setup with latest ubuntu 16.04/18.04 supported.</p>
<p>thanks</p>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/latest-stackstorm-docker-image-ubuntu-bionic/1163">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/latest-stackstorm-docker-image-ubuntu-bionic/1163</link>
          <pubDate>Mon, 13 Apr 2020 09:18:53 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1163</guid>
          <source url="https://forum.stackstorm.com/t/latest-stackstorm-docker-image-ubuntu-bionic/1163.rss">Latest Stackstorm Docker Image Ubuntu:bionic</source>
        </item>
        <item>
          <title>Python st2client pakcage</title>
          <dc:creator><![CDATA[kiran.lohar]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>how to change pack config using st2client ?</p>
            <p><small>5 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/python-st2client-pakcage/1136">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/python-st2client-pakcage/1136</link>
          <pubDate>Thu, 02 Apr 2020 09:45:43 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1136</guid>
          <source url="https://forum.stackstorm.com/t/python-st2client-pakcage/1136.rss">Python st2client pakcage</source>
        </item>
        <item>
          <title>Execute the pack and get the result of by using st2 apis</title>
          <dc:creator><![CDATA[sheetal]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I try to execute st2 api using url to execute the pack and get the result.<br>
The url is ,<br>
“<a href="https://172.16.0.110/stream/v1/executions/5e5765eca5d39d012205d1a2/output?st2-api-key=ZTFkNmVjZGYyMDk3MDNiYTcxZjcyMmVmZTFhMjAzZjJmZTE5OWJiN2YyMGFjN2QwNjk5MjE3YzllNTUwZWY0MQ&amp;output_type=stdout" rel="nofollow noopener">https://172.16.0.110/stream/v1/executions/5e5765eca5d39d012205d1a2/output?st2-api-key=ZTFkNmVjZGYyMDk3MDNiYTcxZjcyMmVmZTFhMjAzZjJmZTE5OWJiN2YyMGFjN2QwNjk5MjE3YzllNTUwZWY0MQ&amp;output_type=stdout</a>”</p>
<p>But there is no result when i try to execute it.<br>
Please help me</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/execute-the-pack-and-get-the-result-of-by-using-st2-apis/1135">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/execute-the-pack-and-get-the-result-of-by-using-st2-apis/1135</link>
          <pubDate>Wed, 01 Apr 2020 09:12:24 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1135</guid>
          <source url="https://forum.stackstorm.com/t/execute-the-pack-and-get-the-result-of-by-using-st2-apis/1135.rss">Execute the pack and get the result of by using st2 apis</source>
        </item>
        <item>
          <title>Stackstorm api and dashboard</title>
          <dc:creator><![CDATA[kiran.lohar]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Is stackstorm dashboard at backend uses stackstorm api or it written as separate (without stackstorm api) ?<br>
Guys i need help to create UI. We actually creating UI on angular and using .net for backend and we calling stackstorm api at .net and output giving to frontend . Is this right way? Or suggest me something else because i am fresher.</p>
            <p><small>4 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/stackstorm-api-and-dashboard/1131">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/stackstorm-api-and-dashboard/1131</link>
          <pubDate>Mon, 30 Mar 2020 14:43:02 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1131</guid>
          <source url="https://forum.stackstorm.com/t/stackstorm-api-and-dashboard/1131.rss">Stackstorm api and dashboard</source>
        </item>
        <item>
          <title>Queue position by execution ID</title>
          <dc:creator><![CDATA[Reth]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Is it possible to get the queue position of a task by its execution Id?, As in how many tasks are to be done prior to that task?</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/queue-position-by-execution-id/1073">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/queue-position-by-execution-id/1073</link>
          <pubDate>Fri, 21 Feb 2020 23:34:26 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1073</guid>
          <source url="https://forum.stackstorm.com/t/queue-position-by-execution-id/1073.rss">Queue position by execution ID</source>
        </item>
        <item>
          <title>REST API Support to Download files</title>
          <dc:creator><![CDATA[manoj-aps]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I need to use StackStorm REST api interface to download files from remote machines. Please suggest if there is any api support for same.</p>
            <p><small>3 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/rest-api-support-to-download-files/1065">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/rest-api-support-to-download-files/1065</link>
          <pubDate>Wed, 19 Feb 2020 13:24:01 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>Yes</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1065</guid>
          <source url="https://forum.stackstorm.com/t/rest-api-support-to-download-files/1065.rss">REST API Support to Download files</source>
        </item>
        <item>
          <title>API support to Download Files</title>
          <dc:creator><![CDATA[manoj-aps]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I’m using Stackstorm for Ansible playbooks executions.</p>
<p>I have installed st2 ansible pack</p>
<blockquote>
<p>st2 pack install ansible</p>
</blockquote>
<p>and using Stackstorm’s API to create executions for executing playbooks.</p>
<p>I have a bit specific usecase which require to download file on client-side (using http client) through rest-apis.</p>
<p>I can fetch files using ansible from control nodes (using ansible’s fetch module) on certain directories. but I need to download that file on client side through stackstorm rest apis…</p>
<p>suggest suitable solution for same…<br>
Thanks</p>
            <p><small>3 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/api-support-to-download-files/1064">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/api-support-to-download-files/1064</link>
          <pubDate>Wed, 19 Feb 2020 10:20:33 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1064</guid>
          <source url="https://forum.stackstorm.com/t/api-support-to-download-files/1064.rss">API support to Download Files</source>
        </item>
        <item>
          <title>Python3 - URL Encoded Webhook Failure</title>
          <dc:creator><![CDATA[jamesdreid]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I have been testing URL Encoded webhooks and I keep running into an error where Stackstorm is converting the URL Encoded text data into binary format which then causes it to fail when trying to encode it as JSON data.</p>
<p>The simple URL Encoded body data I have been testing with is:</p>
<p>MyVariableOne=ValueOne&amp;MyVariableTwo=ValueTwo</p>
<p>When posting this to my webook URL using Postman, I get the an HTPP 500 error with an “Internal Server Error” message response for Stackstrom and the following debug output in the API logs:</p>
<pre><code>[2020-01-27 11:49:57 +0000] [10770] [DEBUG] POST /v1/webhooks/valero_cpe
2020-01-27 11:49:57,579 140064340756784 DEBUG (unknown file) [-] Match path: /v1/webhooks/valero_cpe
2020-01-27 11:49:57,580 140064340756784 INFO (unknown file) [-] 684b74a5-5ea6-4602-9006-2a9a0033710c - POST /v1/webhooks/valero_cpe with query={} (method='POST',path='/v1/webhooks/valero_cpe',remote_addr='127.0.0.1',query={},request_id='684b74a5-5ea6-4602-9006-2a9a0033710c')
2020-01-27 11:49:57,580 140064340756784 DEBUG (unknown file) [-] Received call with WebOb: POST /v1/webhooks/valero_cpe HTTP/1.0
Accept: */*
Accept-Encoding: gzip, deflate, br
Cache-Control: no-cache
Content-Length: 46
Content-Type: application/x-www-form-urlencoded
Host: 81296fd8.ngrok.io,81296fd8.ngrok.io
Postman-Token: 00a125ee-11b4-46fe-9500-75f5d9a811d8
St2-Api-Key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
User-Agent: PostmanRuntime/7.22.0
X-Forwarded-For: 68.187.78.177, 127.0.0.1
X-Forwarded-Proto: https
X-Real-Ip: 127.0.0.1
X-Request-Id: 684b74a5-5ea6-4602-9006-2a9a0033710c

MyVariableOne=ValueOne&amp;MyVariableTwo=ValueTwo

2020-01-27 11:49:57,580 140064340756784 DEBUG (unknown file) [-] Match path: /v1/webhooks/valero_cpe
2020-01-27 11:49:57,581 140064340756784 DEBUG (unknown file) [-] Parsed endpoint: {'operationId': 'st2api.controllers.v1.webhooks:webhooks_controller.post', 'x-requirements': {'hook': '.*'}, 'description': 'Trigger a webhook.\n', 'parameters': [{'name': 'hook', 'in': 'path', 'description': 'Webhook path', 'type': 'string', 'required': True}, {'name': 'webhook_body_api', 'in': 'body', 'description': 'Webhook payload', 'schema': {'$ref': '#/definitions/WebhookBody'}}], 'x-parameters': [{'name': 'headers', 'in': 'request', 'description': 'List of headers attached to the request.'}, {'name': 'user', 'in': 'context', 'x-as': 'requester_user', 'description': 'User performing the operation.'}], 'responses': {'202': {'description': 'Single action being created', 'schema': {'$ref': '#/definitions/WebhookBody'}, 'examples': {'application/json': {'ref': 'core.local'}}}, 'default': {'description': 'Unexpected error', 'schema': {'$ref': '#/definitions/Error'}}}}
2020-01-27 11:49:57,581 140064340756784 DEBUG (unknown file) [-] Parsed path_vars: {'hook': 'valero_cpe'}
2020-01-27 11:49:57,583 140064340756784 AUDIT (unknown file) [-] API key with id "5ddbbb999e14ef34dced4bfc" is validated.
2020-01-27 11:49:57,587 140064340756784 DEBUG (unknown file) [-] Dispatching trigger {'uid': 'trigger:core:8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d:f7c2bb36b9bae14671835604c4167e1c', 'ref': 'core.8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d', 'name': '8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d', 'pack': 'core', 'type': 'core.st2.webhook', 'parameters': {'url': '/valero_cpe'}, 'id': '5df13f759e14ef0c5f1bcc3a'} with payload {'headers': {'Host': '81296fd8.ngrok.io,81296fd8.ngrok.io', 'X-Real-Ip': '127.0.0.1', 'X-Forwarded-For': '68.187.78.177, 127.0.0.1', 'Content-Length': '46', 'St2-Api-Key': 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx', 'Content-Type': 'application/x-www-form-urlencoded', 'User-Agent': 'PostmanRuntime/7.22.0', 'Accept': '*/*', 'Cache-Control': 'no-cache', 'Postman-Token': '00a125ee-11b4-46fe-9500-75f5d9a811d8', 'Accept-Encoding': 'gzip, deflate, br', 'X-Forwarded-Proto': 'https', 'X-Request-Id': '684b74a5-5ea6-4602-9006-2a9a0033710c'}, 'body': {b'MyVariableOne': [b'ValueOne'], b'MyVariableTwo': [b'ValueTwo\n']}}.
2020-01-27 11:49:57,590 140064340756784 DEBUG (unknown file) [-] Dispatching trigger (trigger={'uid': 'trigger:core:8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d:f7c2bb36b9bae14671835604c4167e1c', 'ref': 'core.8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d', 'name': '8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d', 'pack': 'core', 'type': 'core.st2.webhook', 'parameters': {'url': '/valero_cpe'}, 'id': '5df13f759e14ef0c5f1bcc3a'},payload={'trigger': {'uid': 'trigger:core:8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d:f7c2bb36b9bae14671835604c4167e1c', 'ref': 'core.8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d', 'name': '8e1eb20c-33f6-4e4e-b0e9-dc166b37be7d', 'pack': 'core', 'type': 'core.st2.webhook', 'parameters': {'url': '/valero_cpe'}, 'id': '5df13f759e14ef0c5f1bcc3a'}, 'payload': {'headers': {'Host': '81296fd8.ngrok.io,81296fd8.ngrok.io', 'X-Real-Ip': '127.0.0.1', 'X-Forwarded-For': '68.187.78.177, 127.0.0.1', 'Content-Length': '46', 'St2-Api-Key': 'MzE0NDQ2MzI1YjhiZDFjNmRjZjE5NmUzODEyYTViYmZjNzY3YjYyNzVlNGMxMGQ3ODQ3NzI0YzE0YjNjNjVjNA', 'Content-Type': 'application/x-www-form-urlencoded', 'User-Agent': 'PostmanRuntime/7.22.0', 'Accept': '*/*', 'Cache-Control': 'no-cache', 'Postman-Token': '00a125ee-11b4-46fe-9500-75f5d9a811d8', 'Accept-Encoding': 'gzip, deflate, br', 'X-Forwarded-Proto': 'https', 'X-Request-Id': '684b74a5-5ea6-4602-9006-2a9a0033710c'}, 'body': {b'MyVariableOne': [b'ValueOne'], b'MyVariableTwo': [b'ValueTwo\n']}}, 'trace_context': &lt;st2common.models.api.trace.TraceContext object at 0x7f634564e518&gt;})
2020-01-27 11:49:57,591 140064340756784 DEBUG channel [-] using channel_id: 1
2020-01-27 11:49:57,596 140064340756784 DEBUG channel [-] Channel open
2020-01-27 11:49:57,600 140064340756784 DEBUG channel [-] Closed channel #1
2020-01-27 11:49:57,601 140064340756784 ERROR (unknown file) [-] Failed to call controller function "post" for operation "st2api.controllers.v1.webhooks:webhooks_controller.post": key b'MyVariableOne' is not a string
Traceback (most recent call last):
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/router.py", line 515, in __call__
    resp = func(**kw)
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2api/controllers/v1/webhooks.py", line 172, in post
    return Response(json=body, status=http_client.ACCEPTED)
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/router.py", line 150, in __init__
    body = json_encode(json_body).encode('UTF-8')
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/util/jsonify.py", line 45, in json_encode
    return json.dumps(obj, cls=GenericJSON, indent=indent)
  File "/usr/lib/python3.6/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.6/json/encoder.py", line 201, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.6/json/encoder.py", line 430, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/usr/lib/python3.6/json/encoder.py", line 376, in _iterencode_dict
    raise TypeError("key " + repr(key) + " is not a string")
TypeError: key b'MyVariableOne' is not a string
2020-01-27 11:49:57,601 140064340756784 ERROR (unknown file) [-] API call failed: key b'MyVariableOne' is not a string
Traceback (most recent call last):
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/middleware/error_handling.py", line 48, in __call__
    return self.app(environ, start_response)
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/middleware/streaming.py", line 47, in __call__
    return self.app(environ, start_response)
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/router.py", line 594, in as_wsgi
    resp = self(req)
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/router.py", line 519, in __call__
    raise e
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/router.py", line 515, in __call__
    resp = func(**kw)
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2api/controllers/v1/webhooks.py", line 172, in post
    return Response(json=body, status=http_client.ACCEPTED)
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/router.py", line 150, in __init__
    body = json_encode(json_body).encode('UTF-8')
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/util/jsonify.py", line 45, in json_encode
    return json.dumps(obj, cls=GenericJSON, indent=indent)
  File "/usr/lib/python3.6/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.6/json/encoder.py", line 201, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.6/json/encoder.py", line 430, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/usr/lib/python3.6/json/encoder.py", line 376, in _iterencode_dict
    raise TypeError("key " + repr(key) + " is not a string")
TypeError: key b'MyVariableOne' is not a string (_exception_class='TypeError',_exception_message="key b'MyVariableOne' is not a string",_exception_data={})
2020-01-27 11:49:57,606 140064340756784 DEBUG (unknown file) [-] Match path: /v1/webhooks/valero_cpe
2020-01-27 11:49:57,607 140064340756784 INFO (unknown file) [-] 684b74a5-5ea6-4602-9006-2a9a0033710c - 500 46 27.193ms (method='POST',path='/v1/webhooks/valero_cpe',remote_addr='127.0.0.1',status=500,runtime=27.193,content_length=46,request_id='684b74a5-5ea6-4602-9006-2a9a0033710c')
2020-01-27 11:49:57,608 140064340756784 DEBUG (unknown file) [-] 684b74a5-5ea6-4602-9006-2a9a0033710c - 500 46 27.193ms
b'{\n    "faultstring": "Internal Server Error"\n}' (method='POST',path='/v1/webhooks/valero_cpe',remote_addr='127.0.0.1',status=500,runtime=27.193,content_length=46,request_id='684b74a5-5ea6-4602-9006-2a9a0033710c',result='b\'{\\n    "faultstring": "Internal Server Error"\\n}\'')
[2020-01-27 11:49:57 +0000] [10770] [DEBUG] Closing connection.</code></pre>
            <p><small>4 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/python3-url-encoded-webhook-failure/1013">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/python3-url-encoded-webhook-failure/1013</link>
          <pubDate>Mon, 27 Jan 2020 12:16:58 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1013</guid>
          <source url="https://forum.stackstorm.com/t/python3-url-encoded-webhook-failure/1013.rss">Python3 - URL Encoded Webhook Failure</source>
        </item>
        <item>
          <title>ST2API Timeout after install - API never comes online</title>
          <dc:creator><![CDATA[bradchiappetta]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Doing a fresh install of ST2 via Ansible to a Centos 7 system.</p>
<p>The install tries to get the list of packs install and hangs.  In digging into this, it is cause the API is not online so the <code>st2 pack list -j</code> command fails.</p>
<p>In the st2api.log file, seeing this:</p>
<blockquote>
<pre><code>2020-01-16 16:23:23,610 140642781823536 INFO __init__ [-] Successfully connected to database "st2" @ "127.0.0.1:27017" as user "None".
</code></pre>
<p>[2020-01-16 16:23:33 +0000] [1582] [CRITICAL] WORKER TIMEOUT (pid:8512)<br>
[2020-01-16 16:23:33 +0000] [8512] [INFO] Worker exiting (pid: 8512)<br>
[2020-01-16 16:23:33 +0000] [8534] [INFO] Booting worker with pid: 8534<br>
2020-01-16 16:23:43,795 140642996422464 INFO app [-] Creating st2api: StackStorm v3.1.0 as OpenAPI app.<br>
2020-01-16 16:23:53,861 140642781823536 INFO <strong>init</strong> [-] Connecting to database “st2” @ “127.0.0.1:27017” as user “None”.<br>
2020-01-16 16:23:53,866 140642781823536 INFO <strong>init</strong> [-] Successfully connected to database “st2” @ “127.0.0.1:27017” as user “None”.<br>
[2020-01-16 16:24:03 +0000] [1582] [CRITICAL] WORKER TIMEOUT (pid:8534)<br>
2020-01-16 16:24:03,353 140642781823536 ERROR base [-] Publish failed.<br>
Traceback (most recent call last):<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/st2common/persistence/base.py”, line 193, in add_or_update<br>
cls.publish_update(model_object)<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/st2common/persistence/base.py”, line 274, in publish_update<br>
publisher.publish_update(model_object)<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/st2common/transport/publishers.py”, line 122, in publish_update<br>
self._publisher.publish(payload, self._exchange, UPDATE_RK)<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/st2common/transport/publishers.py”, line 84, in publish<br>
retry_wrapper.run(connection=connection, wrapped_callback=do_publish)<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/st2common/transport/connection_retry_wrapper.py”, line 144, in run<br>
eventlet.sleep(wait)<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/eventlet/greenthread.py”, line 36, in sleep<br>
hub.switch()<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/eventlet/hubs/hub.py”, line 297, in switch<br>
return self.greenlet.switch()<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/eventlet/hubs/hub.py”, line 349, in run<br>
self.wait(sleep_time)<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/eventlet/hubs/poll.py”, line 76, in wait<br>
time.sleep(seconds)<br>
File “/opt/stackstorm/st2/lib/python2.7/site-packages/gunicorn/workers/base.py”, line 196, in handle_abort<br>
sys.exit(1)<br>
SystemExit: 1</p>
</blockquote>
<p>I’m guessing that something is up with communications to RabbitMQ, but that’s only a theory, and I can’t figure out how to get around it.  Has anyone run into this before or have any ideas how to get around it?</p>
            <p><small>2 posts - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/st2api-timeout-after-install-api-never-comes-online/1004">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/st2api-timeout-after-install-api-never-comes-online/1004</link>
          <pubDate>Fri, 17 Jan 2020 20:07:15 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1004</guid>
          <source url="https://forum.stackstorm.com/t/st2api-timeout-after-install-api-never-comes-online/1004.rss">ST2API Timeout after install - API never comes online</source>
        </item>
        <item>
          <title>Authentication failed? No actions, sensors, trrigers appear on GUI. ((+_+))</title>
          <dc:creator><![CDATA[kohei]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Similar to the problem: <a href="https://github.com/StackStorm/st2-docker/issues/177" class="inline-onebox" rel="nofollow noopener">HTTP 503 - Running st2 run tutorial.hello · Issue #177 · StackStorm/st2-docker · GitHub</a></p>
<p>Hello from JP.<br>
I will talk about the backgroud with this issue.</p>
<p>On the other day, I tried to install PowerCLI , so set the proxy configuration on “/etc/profile” .<br>
Then it succeeded and the purpose was accomplished.</p>
<p>Today, I was going to run the action on my St2 server, then I executed on St2 console following and got the error like that.</p>
<h1>st2 run XYZ.yaml</h1>
<hr>
<h2>ERROR: 503 Server Error: Service Unavailable<br>
Unable to retrieve detailed message from the HTTP response. Expecting value: line 1 column 1 (char 0)<br>
for url: <a href="http://127.0.0.1:9100/tokens" rel="nofollow noopener">http://127.0.0.1:9100/tokens</a>
</h2>
<p>In addition, sadly, GUI became to appear uncompletely ((+_+))</p>
<p>I wondered the port9100 was not LISTENING ? , however the port was LISTEN according to the netstat command.</p>
<p>After I confused and research, found the following QA finally.<br>
</p><aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/StackStorm/st2/issues/3890" target="_blank" rel="nofollow noopener">github.com/StackStorm/st2</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/StackStorm/st2/issues/3890" target="_blank" rel="nofollow noopener">Proposal: Change st2client defaults to bypass proxy for localhost</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2017-11-30" data-time="19:20:32" data-timezone="UTC">07:20PM - 30 Nov 17 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/LindsayHill" target="_blank" rel="nofollow noopener">
          <img alt="LindsayHill" src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/f89eefa20ad25247204dbc2f83a55782d91d6c69.jpeg" class="onebox-avatar-inline" width="20" height="20">
          LindsayHill
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">When executing st2 &lt;x&gt; commands, st2client will inherit the environment's proxy settings. This is a good thing if you happen to...</p>
</div>

<div class="labels">
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">SUPPORT</span>
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">enhancement</span>
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">proposal</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<p></p>
<p>According to that QA, all I have to do is to set no_proxy about RoopBackAddress.<br>
Then I set so.<br>
export no_proxy=localhost,127.0.0.1</p>
<p>After that, I tried to confirm the movement of St2 by using “st2 --debug action get XYZ”.<br>
However, the answer is Using cached token from file “/root/.st2/token-st2admin” .<br>
And it was not  executed completly…</p>
<p>why this was happend, what should do I…,</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/548e7cbdc0e0723b74a6a213c784f94b6cfe8366.png" data-download-href="/uploads/short-url/c41nSgVDdglBZdEw8cTNdgoDEUK.png?dl=1" title="st2problem" rel="nofollow noopener"><img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/548e7cbdc0e0723b74a6a213c784f94b6cfe8366_2_690x238.png" alt="st2problem" data-base62-sha1="c41nSgVDdglBZdEw8cTNdgoDEUK" width="690" height="238" srcset="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/548e7cbdc0e0723b74a6a213c784f94b6cfe8366_2_690x238.png, https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/548e7cbdc0e0723b74a6a213c784f94b6cfe8366_2_1035x357.png 1.5x, https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/548e7cbdc0e0723b74a6a213c784f94b6cfe8366.png 2x" data-small-upload="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/548e7cbdc0e0723b74a6a213c784f94b6cfe8366_2_10x10.png"></a></div><p></p>
            <p><small>2 posts - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/authentication-failed-no-actions-sensors-trrigers-appear-on-gui/964">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/authentication-failed-no-actions-sensors-trrigers-appear-on-gui/964</link>
          <pubDate>Mon, 16 Dec 2019 09:28:15 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-964</guid>
          <source url="https://forum.stackstorm.com/t/authentication-failed-no-actions-sensors-trrigers-appear-on-gui/964.rss">Authentication failed? No actions, sensors, trrigers appear on GUI. ((+_+))</source>
        </item>
        <item>
          <title>Execute command on a storage device</title>
          <dc:creator><![CDATA[anand.joshi]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I was trying to execute some health check commands on a storage device.</p>
<p>In the usual scenario I can ssh and execute commands like ‘sysconfig’ or ‘version’</p>
<p>From StackStorm, is there a way I can achieve this?</p>
<p>The problem I’m facing is; I always need to use username and password for ssh and even though I enter the same while executing command, it returns nothing.</p>
            <p><small>4 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/execute-command-on-a-storage-device/955">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/execute-command-on-a-storage-device/955</link>
          <pubDate>Wed, 11 Dec 2019 04:44:59 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-955</guid>
          <source url="https://forum.stackstorm.com/t/execute-command-on-a-storage-device/955.rss">Execute command on a storage device</source>
        </item>
        <item>
          <title>Need a help to integrate my companies internal ticketing tool with Stackstrom</title>
          <dc:creator><![CDATA[Raghuvel]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Requirement:<br>
Auto ticketing is  enabled in my internal ticketing tool and i need stackstorm should pick ticket from ITSM and trigger anisble playbook.</p>
<p>thanks in advance!!!<br>
Raghuvel Sekar<br>
9052332558<br>
<a href="mailto:raghuvel.sekar@netenrich.com">raghuvel.sekar@netenrich.com</a></p>
            <p><small>4 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/need-a-help-to-integrate-my-companies-internal-ticketing-tool-with-stackstrom/758">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/need-a-help-to-integrate-my-companies-internal-ticketing-tool-with-stackstrom/758</link>
          <pubDate>Fri, 19 Jul 2019 09:37:06 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-758</guid>
          <source url="https://forum.stackstorm.com/t/need-a-help-to-integrate-my-companies-internal-ticketing-tool-with-stackstrom/758.rss">Need a help to integrate my companies internal ticketing tool with Stackstrom</source>
        </item>
        <item>
          <title>Problem sensors kubernetes</title>
          <dc:creator><![CDATA[dfamicom]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Hi!</p>
<p>I have a problem with kubernetes pack.</p>
<p>When I try the sensors, they don’t work automatically, however, when I use them manually they respond correctly.</p>
<p>Here’s an example of the log when this happens:</p>
<pre><code>    2019-04-29 13:00:18,410 139880156627184 WARNING sensor_wrapper [-] Sensor "watchBatchV1JobListForAllNamespaces" run method raised an exception: [('system library', 'fopen', 'Permission denied'), ('BIO routines', 'file_ctrl', 'system lib'), ('SSL routines', 'SSL_CTX_use_PrivateKey_file', 'system lib')].
Traceback (most recent call last):
  File "/opt/stackstorm/st2/lib/python2.7/site-packages/st2reactor/container/sensor_wrapper.py", line 250, in run
    self._sensor_instance.run()
  File "/opt/stackstorm/packs/kubernetes/sensors/sensor_base.py", line 89, in run
    certfile=self.config['client_cert_path'])
  File "/opt/stackstorm/virtualenvs/kubernetes/lib/python2.7/site-packages/backports/ssl/core.py", line 689, in wrap_socket
    ctx.load_cert_chain(certfile, keyfile)
  File "/opt/stackstorm/virtualenvs/kubernetes/lib/python2.7/site-packages/backports/ssl/core.py", line 662, in load_cert_chain
    self._ctx.use_privatekey_file(keyfile or certfile)
  File "/opt/stackstorm/st2/lib/python2.7/site-packages/OpenSSL/SSL.py", line 995, in use_privatekey_file
    self._raise_passphrase_exception()
  File "/opt/stackstorm/st2/lib/python2.7/site-packages/OpenSSL/SSL.py", line 972, in _raise_passphrase_exception
    _raise_current_error()
  File "/opt/stackstorm/st2/lib/python2.7/site-packages/OpenSSL/_util.py", line 54, in exception_from_error_queue
    raise exception_type(errors)
Error: [('system library', 'fopen', 'Permission denied'), ('BIO routines', 'file_ctrl', 'system lib'), ('SSL routines', 'SSL_CTX_use_PrivateKey_file', 'system lib')]
2019-04-29 13:00:18,412 139880156627184 ERROR (unknown file) [-] Traceback (most recent call last):

2019-04-29 13:00:18,412 139880156627184 ERROR (unknown file) [-]   File "/opt/stackstorm/st2/lib/python2.7/site-packages/st2reactor/container/sensor_wrapper.py", line 382, in &lt;module&gt;

2019-04-29 13:00:18,412 139880156627184 ERROR (unknown file) [-]
2019-04-29 13:00:18,412 139880156627184 ERROR (unknown file) [-] obj.run()

2019-04-29 13:00:18,412 139880156627184 ERROR (unknown file) [-]   File "/opt/stackstorm/st2/lib/python2.7/site-packages/st2reactor/container/sensor_wrapper.py", line 256, in run

2019-04-29 13:00:18,413 139880156627184 ERROR (unknown file) [-]
2019-04-29 13:00:18,413 139880156627184 ERROR (unknown file) [-] raise Exception(msg)

2019-04-29 13:00:18,413 139880156627184 ERROR (unknown file) [-] Exception
2019-04-29 13:00:18,413 139880156627184 ERROR (unknown file) [-] :</code></pre>
            <p><small>5 posts - 4 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/problem-sensors-kubernetes/628">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/problem-sensors-kubernetes/628</link>
          <pubDate>Fri, 03 May 2019 11:54:11 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-628</guid>
          <source url="https://forum.stackstorm.com/t/problem-sensors-kubernetes/628.rss">Problem sensors kubernetes</source>
        </item>
        <item>
          <title>Stackstorm REST Api reference</title>
          <dc:creator><![CDATA[hnanchahal]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>Have a couple of quick questions:.<br>
–Is there any good documentation or samples for the API usage. i.e Looking at <a href="https://api.stackstorm.com/api/v1/rules/#/rule_controller.post" rel="nofollow noopener">https://api.stackstorm.com/api/v1/rules/#/rule_controller.post</a>, cannot really make out what the endpoint is expecting.<br>
–Don’t see endpoints to play around with workflows.<br>
–Is there a swagger endpoint?</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/stackstorm-rest-api-reference/618">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/stackstorm-rest-api-reference/618</link>
          <pubDate>Tue, 23 Apr 2019 22:14:21 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-618</guid>
          <source url="https://forum.stackstorm.com/t/stackstorm-rest-api-reference/618.rss">Stackstorm REST Api reference</source>
        </item>
        <item>
          <title>What happened when API update a pending execution instance</title>
          <dc:creator><![CDATA[syqh826]]></dc:creator>
          <category>API</category>
          <description><![CDATA[
            <p>I have a inquiry action , this action invoke a 3rd system,  when the inquriy type action in pending status ,i want the 3rd system call back to update the status/result ,like 80 % of this execution.</p>
<p>found update execution api  here <a href="https://api.stackstorm.com/api/v1/executions/#/action_executions_controller.put" rel="nofollow noopener">https://api.stackstorm.com/api/v1/executions/#/action_executions_controller.put</a></p>
<p>but cant figure out how to pull this updated status/result</p>
<p>the get execution API not return these information.</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/what-happened-when-api-update-a-pending-execution-instance/606">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/what-happened-when-api-update-a-pending-execution-instance/606</link>
          <pubDate>Thu, 18 Apr 2019 03:06:22 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-606</guid>
          <source url="https://forum.stackstorm.com/t/what-happened-when-api-update-a-pending-execution-instance/606.rss">What happened when API update a pending execution instance</source>
        </item>
  </channel>
</rss>
