<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:discourse="http://www.discourse.org/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Exchange - StackStorm Support (ARCHIVED)</title>
    <link>https://forum.stackstorm.com/c/integrations-and-exchange-related-issues/10</link>
    <description>Topics in the &#39;Exchange&#39; category </description>
    
      <lastBuildDate>Tue, 06 Jul 2021 09:28:28 +0000</lastBuildDate>
      <atom:link href="https://forum.stackstorm.com/c/integrations-and-exchange-related-issues/10.rss" rel="self" type="application/rss+xml" />
        <item>
          <title>Error while working with Pagerduty incident acknowledge and other operations</title>
          <dc:creator><![CDATA[prabhanshu]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>Hi Team,</p>
<p>While i am using pagerduty plugin in st2 to acknowledge, resolve the incident i am getting an error like below.</p>
<p>As per what is asked in the plugin, i have provided api key, integration key and a valid Email with which i have user in pagerduty. Still i am not able to administer the triggers in pager duty and getting an above error. Can someone please help me out with this please?</p>
<pre><code class="lang-auto">st2.actions.python.PdAction: DEBUG    Initializing pypd client
st2.actions.python.PdAction: DEBUG    Checking if entity is defined: Incident
st2.actions.python.PdAction: DEBUG    Checking if method is defined: acknowledge
st2.actions.python.PdAction: DEBUG    Running an entity_id specific method
st2.actions.python.PdAction: DEBUG    Extracting entity_id from kwargs: PECMUVT
st2.actions.python.PdAction: DEBUG    running check_required(); inputs: {'entity_id': 'PECMUVT'}
st2.actions.python.PdAction: DEBUG    running a fetch() on Incident:PECMUVT
st2.actions.python.PdAction: DEBUG    Running pypd acknowledge on Incident:PECMUVT
Traceback (most recent call last):
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/python_runner/python_action_wrapper.py", line 334, in &lt;module&gt;
    obj.run()
  File "/opt/stackstorm/st2/lib/python3.6/site-packages/python_runner/python_action_wrapper.py", line 193, in run
    output = action.run(**self._parameters)
  File "/opt/stackstorm/packs/pagerduty/actions/action.py", line 112, in run
    entity=entity, method=method, entity_id=entity_id, **kwargs))
  File "/opt/stackstorm/packs/pagerduty/actions/lib/base.py", line 173, in entity_id_method
    entity_id_method = getattr(source, method)(**kwargs)
  File "/opt/stackstorm/virtualenvs/pagerduty/lib/python3.6/site-packages/pypd/models/incident.py", line 64, in acknowledge
    data=data,)
  File "/opt/stackstorm/virtualenvs/pagerduty/lib/python3.6/site-packages/pypd/mixins.py", line 123, in request
    **kwargs
  File "/opt/stackstorm/virtualenvs/pagerduty/lib/python3.6/site-packages/pypd/mixins.py", line 72, in _do_request
    return self._handle_response(requests_method(*args, **kwargs))
  File "/opt/stackstorm/virtualenvs/pagerduty/lib/python3.6/site-packages/pypd/mixins.py", line 48, in _handle_response
    raise BadRequest(response.status_code, response.text)
pypd.errors.BadRequest: BadRequest (2010): Access Denied```</code></pre>
            <p><small>2 posts - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/error-while-working-with-pagerduty-incident-acknowledge-and-other-operations/1766">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/error-while-working-with-pagerduty-incident-acknowledge-and-other-operations/1766</link>
          <pubDate>Tue, 06 Jul 2021 09:28:28 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1766</guid>
          <source url="https://forum.stackstorm.com/t/error-while-working-with-pagerduty-incident-acknowledge-and-other-operations/1766.rss">Error while working with Pagerduty incident acknowledge and other operations</source>
        </item>
        <item>
          <title>Trigger a remote server reboot from NewRelic Alert</title>
          <dc:creator><![CDATA[DrLoverLover]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>Hello all,</p>
<p>I’ve been trying for a few days to get this flow to work: NR CPU Alarm —&gt; Remote Server Reboot</p>
<p>I’m having trouble figuring out if the Sensor from the St2 New Relic pack is working the way I think it is.  I’ve been to the github and I made the /opt/stackstorm/configs edits but I was curious when it defines host and port … is it asking for the host of the IP to listen for the incoming webhook or the IP given to the sensor for listening… and is the port default fine?</p>
<p>When I attempt to stress the server I run the little stress script and I have integration from NR to slack so I see the alarm being sent to slack alerting for CPU but my sensor never seems to pick up anything…</p>
<p>Any help would be really great, thanks!</p>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/trigger-a-remote-server-reboot-from-newrelic-alert/1748">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/trigger-a-remote-server-reboot-from-newrelic-alert/1748</link>
          <pubDate>Fri, 25 Jun 2021 03:33:43 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1748</guid>
          <source url="https://forum.stackstorm.com/t/trigger-a-remote-server-reboot-from-newrelic-alert/1748.rss">Trigger a remote server reboot from NewRelic Alert</source>
        </item>
        <item>
          <title>St2 aws run failing security token included in the request is invalid site-packages/st2common/runners/utils.py</title>
          <dc:creator><![CDATA[raghavendra]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>st2 run aws.ec2_get_all_tags<br>
…<br>
id: 60ae1858807900e911ac5045<br>
action.ref: aws.ec2_get_all_tags<br>
context.user: st2admin<br>
parameters: None<br>
status: failed<br>
start_timestamp: Wed, 26 May 2021 09:43:52 UTC<br>
end_timestamp: Wed, 26 May 2021 09:43:55 UTC<br>
result:<br>
exit_code: 1<br>
result: None<br>
stderr: "Traceback (most recent call last):<br>
File “/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/runners/utils.py”, line 134, in get_action_class_instance<br>
action_instance = action_cls(**kwargs)<br>
TypeError: <strong>init</strong>() got an unexpected keyword argument ‘action_service’</p>
<p>During handling of the above exception, another exception occurred:</p>
<p>Traceback (most recent call last):<br>
File “/opt/stackstorm/st2/lib/python3.6/site-packages/python_runner/python_action_wrapper.py”, line 334, in <br>
obj.run()<br>
File “/opt/stackstorm/st2/lib/python3.6/site-packages/python_runner/python_action_wrapper.py”, line 192, in run<br>
action = self._get_action_instance()<br>
File “/opt/stackstorm/st2/lib/python3.6/site-packages/python_runner/python_action_wrapper.py”, line 261, in _get_action_instance<br>
action_service=action_service)<br>
File “/opt/stackstorm/st2/lib/python3.6/site-packages/st2common/runners/utils.py”, line 143, in get_action_class_instance<br>
action_instance = action_cls(**kwargs)<br>
File “/opt/stackstorm/packs/aws/actions/lib/action.py”, line 67, in <strong>init</strong><br>
self.account_id = self.session.client(‘sts’).get_caller_identity().get(‘Account’)<br>
File “/opt/stackstorm/virtualenvs/aws/lib/python3.6/site-packages/botocore/client.py”, line 251, in _api_call<br>
return self._make_api_call(operation_name, kwargs)<br>
File “/opt/stackstorm/virtualenvs/aws/lib/python3.6/site-packages/botocore/client.py”, line 537, in _make_api_call<br>
raise ClientError(parsed_response, operation_name)<br>
botocore.exceptions.ClientError: An error occurred (InvalidClientTokenId) when calling the GetCallerIdentity operation: The security token included in the request is invalid.</p>
            <p><small>3 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/st2-aws-run-failing-security-token-included-in-the-request-is-invalid-site-packages-st2common-runners-utils-py/1719">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/st2-aws-run-failing-security-token-included-in-the-request-is-invalid-site-packages-st2common-runners-utils-py/1719</link>
          <pubDate>Wed, 26 May 2021 10:01:13 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1719</guid>
          <source url="https://forum.stackstorm.com/t/st2-aws-run-failing-security-token-included-in-the-request-is-invalid-site-packages-st2common-runners-utils-py/1719.rss">St2 aws run failing security token included in the request is invalid site-packages/st2common/runners/utils.py</source>
        </item>
        <item>
          <title>Multiple commands for remote-shell-cmd?</title>
          <dc:creator><![CDATA[guymatz]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>Hello!  Is it possible to run more than one command with the remote-shell-cmd runner?  Or do I need a remote-shell-script?</p>
<p>Thanks,<br>
Guy</p>
            <p><small>4 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/multiple-commands-for-remote-shell-cmd/1714">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/multiple-commands-for-remote-shell-cmd/1714</link>
          <pubDate>Fri, 21 May 2021 16:44:05 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1714</guid>
          <source url="https://forum.stackstorm.com/t/multiple-commands-for-remote-shell-cmd/1714.rss">Multiple commands for remote-shell-cmd?</source>
        </item>
        <item>
          <title>St2 source code , How to make To deb file in local</title>
          <dc:creator><![CDATA[chenzhouyu]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>st2 source code , How to make To deb file in local?<br>
st2 source code , How to use ‘Makefile’ get deb file in local?</p>
<p>$ cd /st2  make debs<br>
What steps are missing</p>
            <p><small>9 posts - 4 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/st2-source-code-how-to-make-to-deb-file-in-local/1207">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/st2-source-code-how-to-make-to-deb-file-in-local/1207</link>
          <pubDate>Tue, 05 May 2020 06:49:30 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1207</guid>
          <source url="https://forum.stackstorm.com/t/st2-source-code-how-to-make-to-deb-file-in-local/1207.rss">St2 source code , How to make To deb file in local</source>
        </item>
        <item>
          <title>Cant send mail with core.sendmail</title>
          <dc:creator><![CDATA[piyush.a]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>I was trying to send details and results of my actionchain via mail on completion, but I don’t know how core.sendmail works and i couldn’t find anything that can explain it to me.</p>
<p>For now, i tried:<br>
- Sending a mail from CLI to some “XYZ” email using core.sendmail</p>
<p>Result:</p>
<ul>
<li>It says mail has been sent successfully but I never receive it.</li>
</ul>
<p>The command I used:</p>
<ul>
<li>st2 run core.sendmail subject=“Intros” body=“hello” <a href="mailto:to=%22xyz.example@gmail.com">to="xyz.example@gmail.com</a>"</li>
</ul>
            <p><small>3 posts - 3 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/cant-send-mail-with-core-sendmail/1087">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/cant-send-mail-with-core-sendmail/1087</link>
          <pubDate>Tue, 03 Mar 2020 08:44:16 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1087</guid>
          <source url="https://forum.stackstorm.com/t/cant-send-mail-with-core-sendmail/1087.rss">Cant send mail with core.sendmail</source>
        </item>
        <item>
          <title>How to add new workers to st2actionrunner service</title>
          <dc:creator><![CDATA[guzzijones]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>The systemctl file is at:<br>
<code>/usr/lib/systemd/system/st2actionrunner.service</code><br>
the bash script is at:<br>
<code>/opt/stackstorm/st2/bin/runners.sh</code><br>
The bash script is expecting a variable called<br>
<code>WORKERS</code><br>
else defaults to 10<br>
there is an <code>EnvironmentsFile</code><br>
setting<br>
<code>EnvironmentFile=-/etc/sysconfig/st2actionrunner</code></p>
<p>Solution:</p>
<ul>
<li>For RHEL/CentOS systems edit <code>/etc/sysconfig/st2actionrunner</code>
</li>
<li>For Ubuntu/Debian systems edit <code>/etc/default/st2actionrunner</code>
</li>
</ul>
<p>and add a line:<br>
<code>WORKERS=25</code><br>
or whatever number of workers you want to try.</p>
            <p><small>6 posts - 3 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/how-to-add-new-workers-to-st2actionrunner-service/1036">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/how-to-add-new-workers-to-st2actionrunner-service/1036</link>
          <pubDate>Wed, 05 Feb 2020 15:47:40 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-1036</guid>
          <source url="https://forum.stackstorm.com/t/how-to-add-new-workers-to-st2actionrunner-service/1036.rss">How to add new workers to st2actionrunner service</source>
        </item>
        <item>
          <title>CMDB integration</title>
          <dc:creator><![CDATA[rthorntn]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>Hi,</p>
<p>I’m new to SS, please be gentle.</p>
<p>I want to use a REST API on SS to read “new discovered device” alerts from an external “network discovery” device, so GET the alerts from an external device, store the alert ID’s (and the device ID) on SS and use SS to compute which alerts you have already processed then from SS GET the device properties for any new devices from the external device and store the results in SS.  Maybe it makes sense for SS to be a mail destination for alerts from the network discovery device and do it that way?</p>
<p>UPDATE: I found the email pack, so I’m thinking of setting up an email account that SS can access via IMAP and having the network discovery device email new discovered device alerts to the email address.  Now I’m a bit confused <a href="https://github.com/StackStorm-Exchange/stackstorm-email/blob/master/README.md" class="inline-onebox" rel="nofollow noopener">stackstorm-email/README.md at master · StackStorm-Exchange/stackstorm-email · GitHub</a> in the “email.imap.message trigger | Example trigger payload” section shows “body”: “hello from stackstorm!\n” and “subject”: “test email with attachment” now does that mean the entire body (and subject) gets put into single values, if so, can I parse this and create multiple key value pairs from the email body, say I want to store just the alert_ID and device_ID numbers from the email body in two key value pairs, is this possible?</p>
<p>Then I would want to populate Device42 CMDB with the new devices but I’m more interested in figuring out the above network discovery part first.</p>
<p>Thanks.</p>
<p>Richard</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/cmdb-integration/874">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/cmdb-integration/874</link>
          <pubDate>Tue, 15 Oct 2019 06:53:57 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-874</guid>
          <source url="https://forum.stackstorm.com/t/cmdb-integration/874.rss">CMDB integration</source>
        </item>
        <item>
          <title>How do I call an external function from a stackstorm custom python action?</title>
          <dc:creator><![CDATA[Thecave3]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>I have the following structure inside my actions pack:</p>
<pre><code>actions/
         __init__.py
          acl.run.py
          acl.run.yaml
          lib/
             __init__.py
             utils.py
</code></pre>
<p>And inside the acl.run.py script there is this import:</p>
<pre><code>from actions.lib.utils import create_device
</code></pre>
<p>But when I try to call the acl.run.py actions I get this error:</p>
<pre><code>ImportError: No module named 'actions'
</code></pre>
<p>I have also tried to use the relative path ( <em>.lib.utils</em>), but in that case I’ve got:</p>
<pre><code>SystemError: Parent module 'acl' not loaded, cannot perform relative import
</code></pre>
<p>If i remove the <em>acl</em> part from  the name I have:</p>
<pre><code>SystemError: Parent module '' not loaded, cannot perform relative import
</code></pre>
<p>Since I don’t know how exactly Stackstorm loads the script can someone write here and also in the documentation how to link the lib folder (named as best practice in the documentation( to the actions scripts?</p>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/how-do-i-call-an-external-function-from-a-stackstorm-custom-python-action/766">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/how-do-i-call-an-external-function-from-a-stackstorm-custom-python-action/766</link>
          <pubDate>Tue, 23 Jul 2019 10:01:12 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-766</guid>
          <source url="https://forum.stackstorm.com/t/how-do-i-call-an-external-function-from-a-stackstorm-custom-python-action/766.rss">How do I call an external function from a stackstorm custom python action?</source>
        </item>
        <item>
          <title>Why can&#39;t I write to a file in /tmp?</title>
          <dc:creator><![CDATA[guymatz]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>In my run method I have:<br>
filename = ‘/root/st2-%s.out’ % timestamp<br>
with open(filename , ‘w’) as file:<br>
file.write(json.dumps(payload))</p>
<p>This works, however if I try to put the file in /tmp I get no output file.  Anyone know why I can’t write to /tmp?  Are there other rules around security, etc.  that I should be aware of?</p>
<p>Thanks!!</p>
            <p><small>4 posts - 3 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/why-cant-i-write-to-a-file-in-tmp/665">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/why-cant-i-write-to-a-file-in-tmp/665</link>
          <pubDate>Fri, 24 May 2019 14:45:49 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-665</guid>
          <source url="https://forum.stackstorm.com/t/why-cant-i-write-to-a-file-in-tmp/665.rss">Why can&#39;t I write to a file in /tmp?</source>
        </item>
        <item>
          <title>How to integrate an ansible on a dedicated server?</title>
          <dc:creator><![CDATA[eschweighofer]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>Hi,</p>
<p>is there a way to define an stackstorm endpoint for the ansible&lt;&gt;stackstorm integration pack?<br>
Means to have stackstorm and ansible installed on different servers</p>
<p>Thanks<br>
Erik</p>
            <p><small>3 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/how-to-integrate-an-ansible-on-a-dedicated-server/614">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/how-to-integrate-an-ansible-on-a-dedicated-server/614</link>
          <pubDate>Tue, 23 Apr 2019 13:23:44 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-614</guid>
          <source url="https://forum.stackstorm.com/t/how-to-integrate-an-ansible-on-a-dedicated-server/614.rss">How to integrate an ansible on a dedicated server?</source>
        </item>
        <item>
          <title>Documentation: Config details for connecting to external PostgreSQL MongoDB and RabbitMQ Clusters</title>
          <dc:creator><![CDATA[Namachieli]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>This post is for you if you are using a separate PostgreSQL/RabbitMQ/MongoDB HA Cluster.</p>
<p>I went through some pain getting this to work, and I was asked to make a post to hopefully save the next person some of that pain.</p>
<p>In my build scripts i used <code>crudini</code> to manipulate configuration files.</p>
<h3>MongoDB</h3>
<h5>/etc/st2/st2.conf</h5>
<p><code>sudo crudini --set /etc/st2/st2.conf database host "mongodb://${mongo_node1},${mongo_node1}/?replicaSet=${replica_set}"</code><br>
<code>sudo crudini --set /etc/st2/st2.conf database port ${monogo_port}</code><br>
<code>sudo crudini --set /etc/st2/st2.conf database username ${monogo_user}</code><br>
<code>sudo crudini --set /etc/st2/st2.conf database password ${monogo_user}</code><br>
<code>sudo crudini --set /etc/st2/st2.conf database db_name ${monogo_db}</code></p>
<h3>RabbitMQ</h3>
<h5>/etc/st2/st2.conf</h5>
<p><code>crudini --set /etc/st2/st2.conf messaging cluster_urls "amqp://${rabbit_user}:${rabbit_pass}@${rabbit_node1}:5672/,amqp://${rabbit_user}:${rabbit_pass}@${rabbit_node2}:5672/"</code></p>
<h5>/etc/mistral/mistral.conf</h5>
<p><code>sudo crudini --set /etc/mistral/mistral.conf DEFAULT transport_url "rabbit://${rabbit_user}:${rabbit_pass}@${RABBITMQ_LOADBALANCER_ENDPOINT}:5672"</code></p>
<h3>PostgreSQL</h3>
<h5>/etc/mistral/mistral.conf</h5>
<p><code>sudo crudini --set /etc/mistral/mistral.conf database connection "postgresql+psycopg2://mistral:${postgres_pwd}@${POSTGRES_ENDPOINT}/mistral"</code></p>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/documentation-config-details-for-connecting-to-external-postgresql-mongodb-and-rabbitmq-clusters/588">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/documentation-config-details-for-connecting-to-external-postgresql-mongodb-and-rabbitmq-clusters/588</link>
          <pubDate>Thu, 04 Apr 2019 17:33:48 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-588</guid>
          <source url="https://forum.stackstorm.com/t/documentation-config-details-for-connecting-to-external-postgresql-mongodb-and-rabbitmq-clusters/588.rss">Documentation: Config details for connecting to external PostgreSQL MongoDB and RabbitMQ Clusters</source>
        </item>
        <item>
          <title>Ansible pack: the next generation?</title>
          <dc:creator><![CDATA[cognifloyd]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>The ansible pack is awesome. What could we do to make it more useful or usable in more situations?</p>
<p>Some long-standing issues to kick of the discussion:</p>
<ul>
<li>
<a href="https://github.com/StackStorm-Exchange/stackstorm-ansible/issues/5" rel="nofollow noopener">Issue #5</a>: controller-side python requirements for actions, modules, inventories, or other ansible plugins.</li>
<li>
<a href="https://github.com/StackStorm-Exchange/stackstorm-ansible/issues/4" rel="nofollow noopener">Issue #4</a>: using a different version of ansible per playbook.</li>
<li>
<a href="https://github.com/StackStorm-Exchange/stackstorm-ansible/issues/15" rel="nofollow noopener">Issue #15</a>: ansible-playbook runs with <code>sudo: true</code> (immutable default action parameter).</li>
</ul>
<h2>Issues 4,5</h2>
<p>What if we added the concept of an <code>ansible virtualenv</code>? You use one action to build the virtualenv, and then you use an action parameter to select which <code>ansible virtualenv</code> to use for the given adhoc or playbook action. The default would be using the pack virtualenv. That would allow specifying which version of ansible and any other requirements.</p>
<p>Maybe we could reuse the st2 virtualenv creation logic and use the scheme: <code>/opt/StackStorm-controlled/virtualenvs/ansible-&lt;ansible virtualenv name&gt;</code>. I think <code>-</code> is not a valid char in pack names, so that should prevent conflicts with pack virtualenvs.</p>
<h2>Issue 15</h2>
<p>Maybe the ansible pack could run actions as <code>stanley</code> by default. That might require some development in the action runner to switch users (<code>st2actionrunner</code> service runs as root). Then, we could use <code>sudo</code> as needed to run as root instead of using the unprivileged <code>stanley</code>.</p>
<p><strong>What else does the ansible pack need to be more useful?</strong></p>
            <p><small>3 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/ansible-pack-the-next-generation/366">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/ansible-pack-the-next-generation/366</link>
          <pubDate>Wed, 14 Nov 2018 15:30:38 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-366</guid>
          <source url="https://forum.stackstorm.com/t/ansible-pack-the-next-generation/366.rss">Ansible pack: the next generation?</source>
        </item>
        <item>
          <title>How to use regex to filter result before publishing in a Mistral workflow?</title>
          <dc:creator><![CDATA[m4dcoder]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>On publish or publish-on-error in Mistral workflow, YAQL or Jinja expressions can be used. There is a regex_match, regex_replace, regex_search, and regex_substring custom functions/filters that StackStorm include. The following is an example in YAQL using regex_match. More examples can be found at <a href="https://github.com/StackStorm/st2/tree/master/contrib/examples/actions/workflows/tests" rel="nofollow noopener">st2/contrib/examples/actions/workflows/tests at master · StackStorm/st2 · GitHub</a>.</p>
<pre><code class="lang-auto">version: '2.0'

examples.mistral-test-func-regex-match:
    description: A workflow for testing regex_match custom filter in mistral
    type: direct
    input:
        - input_str
        - regex_pattern
    output:
        result_jinja: &lt;% $.result_jinja %&gt;
        result_yaql: &lt;% $.result_yaql %&gt;
    tasks:

        task1:
            action: std.noop
            publish:
                result_jinja: '{{ regex_match(_.input_str, _.regex_pattern) }}'
                result_yaql: '&lt;% regex_match($.input_str, $.regex_pattern) %&gt;'
</code></pre>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/how-to-use-regex-to-filter-result-before-publishing-in-a-mistral-workflow/181">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/how-to-use-regex-to-filter-result-before-publishing-in-a-mistral-workflow/181</link>
          <pubDate>Wed, 20 Jun 2018 21:06:15 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-181</guid>
          <source url="https://forum.stackstorm.com/t/how-to-use-regex-to-filter-result-before-publishing-in-a-mistral-workflow/181.rss">How to use regex to filter result before publishing in a Mistral workflow?</source>
        </item>
        <item>
          <title>How to handle long running command using core.remote?</title>
          <dc:creator><![CDATA[m4dcoder]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>There is a <code>timeout</code> option for the <code>core.remote</code> action. Run <code>st2 run core.remote -h</code> to look at the timeout option.  The following is an example.</p>
<pre><code class="lang-auto">~/st2$ st2 run core.remote hosts=localhost cmd=date timeout=120
.
id: 5b2abdf21e2e240a543784e7
status: succeeded
parameters: 
  cmd: date
  hosts: localhost
  timeout: 120
result: 
  localhost:
    failed: false
    return_code: 0
    stderr: ''
    stdout: Wed Jun 20 20:49:56 UTC 2018
    succeeded: true
</code></pre>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/how-to-handle-long-running-command-using-core-remote/180">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/how-to-handle-long-running-command-using-core-remote/180</link>
          <pubDate>Wed, 20 Jun 2018 20:51:24 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-180</guid>
          <source url="https://forum.stackstorm.com/t/how-to-handle-long-running-command-using-core-remote/180.rss">How to handle long running command using core.remote?</source>
        </item>
        <item>
          <title>Python dependencies for serverless plugin are not handled properly</title>
          <dc:creator><![CDATA[prapoorna]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>Tried to use serverless plugin and use an action from exchange.<br>
Action: “GET” from servicenow pack</p>
<p>Encountered several errors with python dependencies using serverless. Here is an example attached:<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c.png" title="Screen Shot 2018-05-16 at 10.29.44 AM.png" rel="nofollow noopener"><img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_690x488.png" alt="44%20AM" width="690" height="488" srcset="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_690x488.png, https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_1035x732.png 1.5x, https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_1380x976.png 2x" data-small-upload="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_10x10.png"></a></div><p></p>
<p>Observations:<br>
python dependencies are not built/copied into virtual environments folder during deployment in the serverless package although they are specified in the requirements.txt and the modules exist in the system.</p>
<p>For the “GET” action in servicenow pack, the only dependency listed was “pysnow” which was part of the virtual environments in the package. However, when invoke command is run, it complained: ‘~st2/handler’: No module named six</p>
<p>When six was installed and added to requirements.txt, six module wasn’t copied to the virtual environments.<br>
I had to manually copy the module to the virtual environments, redeploy and invoke.<br>
This time it complained: ‘~st2/handler’: No module named oslo_config<br>
Repeated above steps and next it complained ‘~st2/handler’: No module named enum<br>
And assuming its a repetitive process until all dependencies are satisfied and I stopped at this point and couldn’t successfully invoke the action.</p>
<p>Questions:</p>
<ol>
<li>Where are the dependencies listed for an action with serverless plugin? Does serverless create a wrapper and has more internal dependencies, if so what are they? Cause they only show up during invocation and its hard to figure out</li>
<li>When an action is cloned from exchange during serverless deployment, should we assume the dependencies are already listed in requirements.txt?</li>
<li>What are actions to be taken to handle the dependencies? Clearly manual copy is not an option.<br>
Looking for a list and automated procedure that is handled during serverless deployment.</li>
</ol>
            <p><small>2 posts - 2 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/python-dependencies-for-serverless-plugin-are-not-handled-properly/147">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/python-dependencies-for-serverless-plugin-are-not-handled-properly/147</link>
          <pubDate>Wed, 16 May 2018 18:02:16 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-147</guid>
          <source url="https://forum.stackstorm.com/t/python-dependencies-for-serverless-plugin-are-not-handled-properly/147.rss">Python dependencies for serverless plugin are not handled properly</source>
        </item>
        <item>
          <title>Howto: Restrict API Key to specific webhooks</title>
          <dc:creator><![CDATA[lhill]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>By default, an API Key can be used for any action or webhook.</p>
<p>This is because it has the privileges of the admin user that created it.</p>
<p>But you can associate an API key with a user, by using <code>st2 apikey create -u &lt;user&gt;</code>. Then set up a role with limited access, and map that user to that role.</p>
<p>The role should look something like:</p>
<pre><code class="lang-auto">---
    name: "webhook"
    description: "Send permission to one specific webhook"
    enabled: true
    permission_grants:
        -
            resource_uid: "webhook:&lt;name&gt;"
            permission_types:
               - "webhook_send"
</code></pre>
<p>See this <a href="https://github.com/StackStorm/st2/issues/3725#issuecomment-375144042">Github Issue</a> for more information and examples.</p>
            <p><small>2 posts - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/howto-restrict-api-key-to-specific-webhooks/96">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/howto-restrict-api-key-to-specific-webhooks/96</link>
          <pubDate>Thu, 22 Mar 2018 01:20:44 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-96</guid>
          <source url="https://forum.stackstorm.com/t/howto-restrict-api-key-to-specific-webhooks/96.rss">Howto: Restrict API Key to specific webhooks</source>
        </item>
        <item>
          <title>About the Exchange category</title>
          <dc:creator><![CDATA[lakstorm]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>(Replace this first paragraph with a brief description of your new category. This guidance will appear in the category selection area, so try to keep it below 200 characters. <strong>Until you edit this description or create topics, this category won’t appear on the categories page.</strong>)</p>
<p>Use the following paragraphs for a longer description, or to establish category guidelines or rules:</p>
<ul>
<li>
<p>Why should people use this category? What is it for?</p>
</li>
<li>
<p>How exactly is this different than the other categories we already have?</p>
</li>
<li>
<p>What should topics in this category generally contain?</p>
</li>
<li>
<p>Do we need this category? Can we merge with another category, or subcategory?</p>
</li>
</ul>
            <p><small>1 post - 1 participant</small></p>
            <p><a href="https://forum.stackstorm.com/t/about-the-exchange-category/78">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/about-the-exchange-category/78</link>
          <pubDate>Wed, 14 Mar 2018 15:04:24 +0000</pubDate>
          <discourse:topicPinned>Yes</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-78</guid>
          <source url="https://forum.stackstorm.com/t/about-the-exchange-category/78.rss">About the Exchange category</source>
        </item>
        <item>
          <title>Module import failed in python</title>
          <dc:creator><![CDATA[cristi]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>hi team im trying to integrate postgresql with stackstorm and establishing connection using python but im unable to import psycopg2<br>
my code is executing in python but in stackstorm I’m getting the following error</p>
<pre><code class="lang-auto">ERROR:

Traceback (most recent call last):
  File "/opt/stackstorm/st2/local/lib/python2.7/site-packages/st2common/runners/python_action_wrapper.py", line 216, in _get_action_instance
    actions_cls = action_loader.register_plugin(Action, self._file_path)
  File "/opt/stackstorm/st2/lib/python2.7/site-packages/st2common/util/loader.py", line 165, in register_plugin
    module = imp.load_source(module_name, plugin_abs_file_path)
  File "/opt/stackstorm/packs/postgres/actions/sha.py", line 1, in &lt;module&gt;
    import psycopg2
ImportError: No module named psycopg2 
</code></pre>
<p>I have tried installing psycopg2 it got installed successfully but still  I’m facing the same error</p>
            <p><small>5 posts - 3 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/module-import-failed-in-python/52">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/module-import-failed-in-python/52</link>
          <pubDate>Mon, 12 Mar 2018 12:41:24 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-52</guid>
          <source url="https://forum.stackstorm.com/t/module-import-failed-in-python/52.rss">Module import failed in python</source>
        </item>
        <item>
          <title>Stackstorm jira pack issue</title>
          <dc:creator><![CDATA[dishank]]></dc:creator>
          <category>Exchange</category>
          <description><![CDATA[
            <p>Hi All,</p>
<p>After configuring Jira Pack in stackstorm , I’m facing this issue and I’m unable to create or get any issue from Jira.</p>
<pre><code class="lang-auto">WARNING:root:Got recoverable error from GET myjira:8080/rest/api/2/serverInfo, will retry [1/3] in 4.07404639477s. Err: 401 \nWARNING:root:Got recoverable error from GET myjira:8080/rest/api/2/serverInfo, will retry [2/3] in 33.4701336819s. Err: 401 \nWARNING:root:Got recoverable error from GET myjira:8080/rest/api/2/serverInfo, will retry [3/3] in 22.8582043358s. Err: 401 \nTraceback (most recent call last):\n  File \"/opt/stackstorm/st2/local/lib/python2.7/site-packages/st2common/runners/python_action_wrapper.py\", line 275, in &lt;module&gt;\n    obj.run()\n  File \"/opt/stackstorm/st2/local/lib/python2.7/site-packages/st2common/runners/python_action_wrapper.py\", line 162, in run\n    action = self._get_action_instance()\n  File \"/opt/stackstorm/st2/local/lib/python2.7/site-packages/st2common/runners/python_action_wrapper.py\", line 240, in _get_action_instance\n    action_service=action_service)\n  File \"/opt/stackstorm/st2/lib/python2.7/site-packages/st2common/runners/utils.py\", line 98, in get_action_class_instance\n    action_instance = action_cls(**kwargs)\n  File \"/opt/stackstorm/packs/jira/actions/lib/base.py\", line 17, in __init__\n    self._client = self._get_client()\n  File \"/opt/stackstorm/packs/jira/actions/lib/base.py\", line 34, in _get_client\n    client = JIRA(options=options, oauth=oauth_creds)\n  File \"/opt/stackstorm/virtualenvs/jira/lib/python2.7/site-packages/jira/client.py\", line 346, in __init__\n    si = self.server_info()\n  File \"/opt/stackstorm/virtualenvs/jira/lib/python2.7/site-packages/jira/client.py\", line 1943, in server_info\n    j = self._get_json('serverInfo')\n  File \"/opt/stackstorm/virtualenvs/jira/lib/python2.7/site-packages/jira/client.py\", line 2355, in _get_json\n    r = self._session.get(url, params=params)\n  File \"/opt/stackstorm/virtualenvs/jira/lib/python2.7/site-packages/jira/resilientsession.py\", line 150, in get\n    return self.__verb('GET', url, **kwargs)\n  File \"/opt/stackstorm/virtualenvs/jira/lib/python2.7/site-packages/jira/resilientsession.py\", line 146, in __verb\n    raise_on_error(response, verb=verb, **kwargs)\n  File \"/opt/stackstorm/virtualenvs/jira/lib/python2.7/site-packages/jira/resilientsession.py\", line 56, in raise_on_error\n    r.status_code, error, r.url, request=request, response=r, **kwargs)\njira.exceptions.JIRAError: JiraError HTTP 401 url: http://myjira:8080/rest/api/2/serverInfo\n\ttext: oauth_problem=signature_invalid&amp;oauth_signature=Q%2BnUQegJNK71dgwvuSM0WhRg1bqniI59u9Vq21TfrIX8dEY4r7kNnoBMXTldLdeBkafP3qSJwwH9Y80z7qFw70e7WLVwa6%2F73XUoMdzFcsioVb22WmpRNyHClD9zNUotPz4WgKoiO1f02KcTrUnvXBa%2BzjN5I2Xqch8W5R%2ByVjnLpA4Wpgj7Vkt6eH%2BzN4HaDD01cG8flheFjkUieTaIOtCMcLPbxisQnDlDfW99E6r4233sxK2%2FjuCn8f6%2BVG3G6544MJ7mRxHOH7d1jwldv5efp8wJJ%2BZfZLtaVUUSSt0jwf%2FVHkLTrA7sBeFKvsuu6G8YrverU6wTkH7fgkbtqA%3D%3D&amp;oauth_signature_base_string=GET%26http%253A%252F%252Fmyjira%253A8080%252Frest%252Fapi%252F2%252FserverInfo%26oauth_consumer_key%253D9a9c6e0c-43e2-479f-92c6-26da5660d45f%2526oauth_nonce%253D7486406249565642931520594130%2526oauth_signature_method%253DRSA-SHA1%2526oauth_timestamp%253D1520594130%2526oauth_token%253DwCv3WUSfiMQC6owZxyhGoJbXs7vyvdDR%2526oauth_version%253D1.0&amp;oauth_signature_method=RSA-SHA1\n\t\n\tresponse headers = {'Date': 'Fri, 09 Mar 2018 11:15:30 GMT', 'Content-Length': '825', 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8', 'WWW-Authenticate': 'OAuth realm=\"http%3A%2F%2Fmyjira%3A8080\", OAuth realm=\"http%3A%2F%2Fmyjira%3A8080\", oauth_problem=\"signature_invalid\", oauth_signature=\"Q%2BnUQegJNK71dgwvuSM0WhRg1bqniI59u9Vq21TfrIX8dEY4r7kNnoBMXTldLdeBkafP3qSJwwH9Y80z7qFw70e7WLVwa6%2F73XUoMdzFcsioVb22WmpRNyHClD9zNUotPz4WgKoiO1f02KcTrUnvXBa%2BzjN5I2Xqch8W5R%2ByVjnLpA4Wpgj7Vkt6eH%2BzN4HaDD01cG8flheFjkUieTaIOtCMcLPbxisQnDlDfW99E6r4233sxK2%2FjuCn8f6%2BVG3G6544MJ7mRxHOH7d1jwldv5efp8wJJ%2BZfZLtaVUUSSt0jwf%2FVHkLTrA7sBeFKvsuu6G8YrverU6wTkH7fgkbtqA%3D%3D\", oauth_signature_base_string=\"GET%26http%253A%252F%252Fmyjira%253A8080%252Frest%252Fapi%252F2%252FserverInfo%26oauth_consumer_key%253D9a9c6e0c-43e2-479f-92c6-26da5660d45f%2526oauth_nonce%253D7486406249565642931520594130%2526oauth_signature_method%253DRSA-SHA1%2526oauth_timestamp%253D1520594130%2526oauth_token%253DwCv3WUSfiMQC6owZxyhGoJbXs7vyvdDR%2526oauth_version%253D1.0\", oauth_signature_method=\"RSA-SHA1\"'}\n\tresponse text = oauth_problem=signature_invalid&amp;oauth_signature=Q%2BnUQegJNK71dgwvuSM0WhRg1bqniI59u9Vq21TfrIX8dEY4r7kNnoBMXTldLdeBkafP3qSJwwH9Y80z7qFw70e7WLVwa6%2F73XUoMdzFcsioVb22WmpRNyHClD9zNUotPz4WgKoiO1f02KcTrUnvXBa%2BzjN5I2Xqch8W5R%2ByVjnLpA4Wpgj7Vkt6eH%2BzN4HaDD01cG8flheFjkUieTaIOtCMcLPbxisQnDlDfW99E6r4233sxK2%2FjuCn8f6%2BVG3G6544MJ7mRxHOH7d1jwldv5efp8wJJ%2BZfZLtaVUUSSt0jwf%2FVHkLTrA7sBeFKvsuu6G8YrverU6wTkH7fgkbtqA%3D%3D&amp;oauth_signature_base_string=GET%26http%253A%252F%252Fmyjira%253A8080%252Frest%252Fapi%252F2%252FserverInfo%26oauth_consumer_key%253D9a9c6e0c-43e2-479f-92c6-26da5660d45f%2526oauth_nonce%253D7486406249565642931520594130%2526oauth_signature_method%253DRSA-SHA1%2526oauth_timestamp%253D1520594130%2526oauth_token%253DwCv3WUSfiMQC6owZxyhGoJbXs7vyvdDR%2526oauth_version%253D1.0&amp;oauth_signature_method=RSA-SHA1\n
</code></pre>
<p>Can you please look into and suggest.</p>
            <p><small>7 posts - 4 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/stackstorm-jira-pack-issue/31">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/stackstorm-jira-pack-issue/31</link>
          <pubDate>Fri, 09 Mar 2018 12:53:53 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-31</guid>
          <source url="https://forum.stackstorm.com/t/stackstorm-jira-pack-issue/31.rss">Stackstorm jira pack issue</source>
        </item>
        <item>
          <title>Invoke an action from a Python action script</title>
          <dc:creator><![CDATA[n_kos]]></dc:creator>
          <category>How do I do X in st2?</category>
          <description><![CDATA[
            <p>Is there any way to invoke execution of an action from the python client? I would like to execute an action from an action without using action chain or mistral. I ended up using my one ActionManager but I wonder if there is a better API supported by the python client.</p>
<pre><code>from st2client.client import Client
from st2client.models import LiveAction


class ActionManager(object):

    def __init__(self):
        self.client = Client(base_url='http://localhost')

    def run_action_by_name(self, name, payload):
        action = self._get_action_from_name(name)
        action_ref = '.'.join([action.pack, action.name])
        execution = LiveAction()
        execution.action = action_ref
		execution.parameters = payload
        action_exec_manager = self.client.managers['LiveAction']
        action_exec_manager.create(execution)

    def _get_action_from_name(self, name):
        return self.client.actions.get_by_name(name)</code></pre>
            <p><small>8 posts - 3 participants</small></p>
            <p><a href="https://forum.stackstorm.com/t/invoke-an-action-from-a-python-action-script/24">Read full topic</a></p>
          ]]></description>
          <link>https://forum.stackstorm.com/t/invoke-an-action-from-a-python-action-script/24</link>
          <pubDate>Thu, 08 Mar 2018 11:04:19 +0000</pubDate>
          <discourse:topicPinned>No</discourse:topicPinned>
          <discourse:topicClosed>No</discourse:topicClosed>
          <discourse:topicArchived>No</discourse:topicArchived>
          <guid isPermaLink="false">forum.stackstorm.com-topic-24</guid>
          <source url="https://forum.stackstorm.com/t/invoke-an-action-from-a-python-action-script/24.rss">Invoke an action from a Python action script</source>
        </item>
  </channel>
</rss>
