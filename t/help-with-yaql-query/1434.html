<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device text-size-normal anon">
<head>
    <meta charset="utf-8">
    <title>Help with YAQL query - Workflows - StackStorm Support (ARCHIVED)</title>
    <meta name="description" content="I have hit a brick wall trying to publish a yaql expression from output data and documentation on yaql is somewhat sparse 
From the below output, I am trying to publish virtualmachine.id where virtualmachine.nic.networkn&amp;hellip;">
    <meta name="discourse_theme_id" content="2">
    <meta name="discourse_current_homepage" content="latest">
    <meta name="generator"
          content="Discourse 2.8.0.beta6 - https://github.com/discourse/discourse version a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787">
    <link rel="icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_32x32.PNG">
    <link rel="apple-touch-icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_180x180.PNG">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <link rel="canonical" href="1434.html"/>
    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https://forum.stackstorm.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://forum.stackstorm.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }</script>
    <link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml"
          title="StackStorm Support (ARCHIVED) Search">


    <link href="/../../stylesheets/color_definitions_base__2_3c5eec1ecf192052ea70b4afdab57a62bccc0604.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" class="light-scheme"/>

    <link href="/../../stylesheets/desktop_b2f2968742d41481357e0df259b51ce29f72481a.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" data-target="desktop"/>


    <meta name="fragment" content="!">


    <link id="manifest-link" rel="manifest" href="../../manifest.webmanifest" crossorigin="use-credentials">


    <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Help with YAQL query&#39;"
          href="1434.rss"/>
    <meta property="og:site_name" content="StackStorm Support (ARCHIVED)"/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:url" content="https://forum.stackstorm.com/t/help-with-yaql-query/1434"/>
    <meta name="twitter:url" content="https://forum.stackstorm.com/t/help-with-yaql-query/1434"/>
    <meta property="og:title" content="Help with YAQL query"/>
    <meta name="twitter:title" content="Help with YAQL query"/>
    <meta property="og:description"
          content="I have hit a brick wall trying to publish a yaql expression from output data and documentation on yaql is somewhat sparse  From the below output, I am trying to publish virtualmachine.id where virtualmachine.nic.networkname = lan-net  Any pointers to what the expression should look like would be appreciated  virtualmachine:  - account: user  affinitygroup: []  cpunumber: 1  cpuspeed: 1000  cpuused: 0.41%  created: 2020-08-31T12:00:16+0800  details:  Message.ReservedCapacityFreed.Flag: ‚Äòtrue‚Äô  SS..."/>
    <meta name="twitter:description"
          content="I have hit a brick wall trying to publish a yaql expression from output data and documentation on yaql is somewhat sparse  From the below output, I am trying to publish virtualmachine.id where virtualmachine.nic.networkname = lan-net  Any pointers to what the expression should look like would be appreciated  virtualmachine:  - account: user  affinitygroup: []  cpunumber: 1  cpuspeed: 1000  cpuused: 0.41%  created: 2020-08-31T12:00:16+0800  details:  Message.ReservedCapacityFreed.Flag: ‚Äòtrue‚Äô  SS..."/>
    <meta name="twitter:label1" value="Reading time"/>
    <meta name="twitter:data1" value="2 mins üïë"/>
    <meta name="twitter:label2" value="Likes"/>
    <meta name="twitter:data2" value="2 ‚ù§"/>
    <meta property="article:published_time" content="2020-09-30T08:26:34+00:00"/>
    <meta property="og:ignore_canonical" content="true"/>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "QAPage",
        "name": "Help with YAQL query",
        "mainEntity": {
            "@type": "Question",
            "name": "Help with YAQL query",
            "text": "I have hit a brick wall trying to publish a yaql expression from output data and documentation on yaql is somewhat sparse\n\nFrom the below output, I am trying to publish virtualmachine.id where virtualmachine.nic.networkname = lan-net\n\nAny pointers to what the expression should look like would be app&hellip;",
            "upvoteCount": 0,
            "answerCount": 1,
            "dateCreated": "2020-09-30T08:26:34.245Z",
            "author": {
                "@type": "Person",
                "name": null
            },
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Have you tried using the where / select. Is nic just a dict or an array of dictionaries? As indention has gone funny I wasn‚Äôt sure. I‚Äôm assuming virtuamachine is an array, that includes properties id and nic.\n\nNot sure if this is the simplest, but I think if nic is just a dictionary then you could u&hellip;",
                "upvoteCount": 1,
                "dateCreated": "2020-09-30T15:50:03.022Z",
                "url": "https://forum.stackstorm.com/t/help-with-yaql-query/1434/3",
                "author": {
                    "@type": "Person",
                    "name": "amanda11"
                }
            }
        }
    }</script>

    <meta id="data-discourse-setup" data-cdn="https://sjc6.discourse-cdn.com/standard10"
          data-base-url="https://forum.stackstorm.com" data-base-uri="" data-environment="production"
          data-letter-avatar-version="5_8fec8e114563efeaf5265573e510f08e"
          data-markdown-it-url="https://aws1.discourse-cdn.com/standard10/assets/markdown-it-bundle-31e9a9c535ca1801c26da78b0ff465821751a98f921c5cdc5457d7e5a69e9748.js"
          data-service-worker-url="service-worker.js" data-default-locale="en"
          data-asset-version="597e36448c9b51d0fa3b7e43ec1fd6d5" data-disable-custom-css="false"
          data-highlight-js-path="/highlight-js/forum.stackstorm.com/ac0f4aa001e1343346941766d72e0c1ae330832b.js"
          data-svg-sprite-path="/svg-sprite/forum.stackstorm.com/svg-2-c2ad434b1e06079c7e282124aed9938dc95b83ea.js"
          data-enable-js-error-reporting="true" data-color-scheme-is-dark="false" data-user-dark-scheme-id="-1"
          data-s3-cdn="https://aws1.discourse-cdn.com/standard10"
          data-s3-base-url="//discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/standard10">

    <meta name="discourse/config/environment"
          content="%7B%22modulePrefix%22%3A%22discourse%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%22%2C%22locationType%22%3A%22auto%22%2C%22historySupportMiddleware%22%3Afalse%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22discourse%22%2C%22version%22%3A%222.8.0.beta6%20a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787%22%2C%22exportApplicationGlobal%22%3Atrue%7D%7D"/>
</head>

<body class="">


<header class="d-header">
    <div class="wrap">
        <div class="contents clearfix">
            <div class="title">
                <a href="../../index.html">
                    <picture>
                        <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png"
                             alt="StackStorm Support (ARCHIVED)" id="site-logo"/>
                    </picture>
                </a>
            </div>

        </div>
    </div>
</header>

<div id="main-outlet" class="wrap" role="main">
    <!-- preload-content: -->

    <!-- EOF START -->
    <div class="container" id="main-container">
        <div id="ember11" class="ember-view"></div>
        <div id="ember12" class="controls ember-view"><!----></div>
        <div id="ember13" class="ember-view"><!----></div>
        <div id="ember14" class="ember-view">
            <div class="row">
                <div id="global-notice-alert-read-only" class="alert alert-info alert-read-only">
                    <!----> <span class="text">This site is in read only mode. Please continue to browse, but replying, likes, and other actions are disabled for now.</span>

                    <!---->    </div>
            </div>
            <div class="row">
                <div id="global-notice-alert-global-notice" class="alert alert-info alert-global-notice">
                    <!----> <span class="text"><h3>‚ö†Ô∏è We've moved!</h3>  <p> Hi there!<br><br> To reduce project dependency on 3rd party paid services the StackStorm TSC has decided to move the Q/A from this forum to <a
                        href="https://github.com/StackStorm/st2/discussions">Github Discussions</a>. This will make user experience better integrated with the native Github flow, as well as the questions closer to the community where they can provide answers. </p>  <p> Use üîó <b><a
                        href="https://github.com/StackStorm/st2/discussions" class="active">Github Discussions</a></b> to ask your questions. </p></span>

                    <!---->    </div>
            </div>
        </div>
        <div id="ember17" class="hidden create-topics-notice ember-view"><!----></div>
        <!---->
    </div>
    <!-- EOF END -->
    <div id="topic-title">
        <h1>
            <a href="1434.html">Help with YAQL query</a>
        </h1>

        <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/workflow-related-issues/15" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Workflows</span>
              </span>
            </a>
            <meta itemprop="position" content="1"/>
          </span>
        </div>

        <div class="topic-category">
            <div class='discourse-tags list-tags'>
                <a href='../../tag/orquesta' class='discourse-tag' rel="tag">orquesta</a>
            </div>
        </div>
    </div>


    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/nick'><span itemprop='name'>nick</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="1434.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-30T08:26:34Z' class='post-time'>
                September 30, 2020,  8:26am
              </time>
              <meta itemprop='dateModified' content='2020-09-30T08:26:34Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>I have hit a brick wall trying to publish a yaql expression from output data and documentation on yaql is
                somewhat sparse</p>
            <p>From the below output, I am trying to publish virtualmachine.id where virtualmachine.nic.networkname =
                lan-net</p>
            <p>Any pointers to what the expression should look like would be appreciated</p>
            <p>virtualmachine:<br>
                - account: user<br>
                affinitygroup: []<br>
                cpunumber: 1<br>
                cpuspeed: 1000<br>
                cpuused: 0.41%<br>
                created: 2020-08-31T12:00:16+0800<br>
                details:<br>
                Message.ReservedCapacityFreed.Flag: ‚Äòtrue‚Äô<br>
                SSH.PublicKey: ssh-rsa
                AAAB35555yc2E1234DAQABAAABAQCAc1xLjLaxrSIVVFF8ihBX0yZxYgtVT5zmn7XxghTZvB40yeeCqQRaxLT1I2cKSKijA+jkxudgRAJzdeqk6c3EoBk3e2/Q+1o9QO/8xaHIXPKu5JoTKyCi8jq5FkqUxSf3/KHrDMk24/kgj5CGG3S0WeFSp3MORoVBxVSW+BDE5XIDBycQjWxEDSQOgbrOt6Ywmbkf955jh77Kcf/v8IqhLg1a94txmbDI+oaKyrzbVOisErI4/k7GzbyxjiozbQZ6ISp+SlcFsms5ecUGpM04WmIt6r7Hwli40kzcj4NGAN1lm3pK9+0Hp7tab/IJsgTmp7T9N3ICc60nBmdtoc3l<br>
                diskioread: 92512<br>
                diskiowrite: 34501<br>
                diskkbsread: 3167073<br>
                diskkbswrite: 3920315<br>
                diskofferingid: c8e23623-3c9c-4cf0-877b-92491560629b<br>
                diskofferingname: Custom<br>
                displayname: localhost<br>
                displayvm: true<br>
                domain: ROOT<br>
                domainid: b6155e47-64e7-11e9-3333-f2f9c859b603<br>
                guestosid: ebf3934c-3333-11e9-81d3-964f98ffb0e4<br>
                haenable: false<br>
                hypervisor: KVM<br>
                id: 3bc967ba-3402-3333-8206-4d005e469978<br>
                instancename: i-2-3748-VM<br>
                isdynamicallyscalable: false<br>
                keypair: ssh-keypair<br>
                memory: 1024<br>
                memoryintfreekbs: 644136<br>
                memorykbs: 1048576<br>
                memorytargetkbs: 1048576<br>
                name: localhost<br>
                networkkbsread: 234858<br>
                networkkbswrite: 4791<br>
                nic:<br>
                - broadcasturi: vlan://10<br>
                extradhcpoption: []<br>
                gateway: 10.10.10.2<br>
                id: 15aa2e71-2c93-4d98-94ea-46635109eced<br>
                ipaddress: 10.10.10.153<br>
                isdefault: true<br>
                isolationuri: vlan://10<br>
                macaddress: 1e:00:41:00:01:d4<br>
                netmask: 255.255.255.0<br>
                networkid: 07521c6d-17b4-4236-8f1d-87a61d4e770d<br>
                networkname: lan-net<br>
                secondaryip: []<br>
                traffictype: Guest<br>
                type: Shared<br>
                ostypeid: ebf3934c-fc51-11e9-81d3-964f98ffb0e4<br>
                passwordenabled: false<br>
                rootdeviceid: 0<br>
                rootdevicetype: ROOT<br>
                securitygroup: []<br>
                serviceofferingid: 4dea8ee3-3ce7-4d8b-ad45-46e6a769c6b6<br>
                serviceofferingname: Medium Instance<br>
                state: Stopped<br>
                tags: []<br>
                templatedisplaytext: CentOS 8<br>
                templateid: df40c1ff-9cbc-4e35-93bb-02dd3f68ccae<br>
                templatename: centos-8.2.2004-server<br>
                userid: d8b93f19-64e7-11e9-b6e7-f2f9c859b603<br>
                username: user<br>
                zoneid: bd43ff6e-ecaf-45ad-955c-9b1e28b5aeef<br>
                zonename: zone1<br>
                - account: user<br>
                affinitygroup: []<br>
                cpunumber: 1<br>
                cpuspeed: 500<br>
                cpuused: 1.04%<br>
                created: 2020-08-11T08:04:00+0800<br>
                details:<br>
                Message.ReservedCapacityFreed.Flag: ‚Äòfalse‚Äô<br>
                SSH.PublicKey: ssh-rsa
                1234B3NzaC1yc2E1234DAQABAAABAQCAc1xLjLaxrSIVVFF8ihBX0yZxYgtVT5zmn7XxghTZvB40yeeCqQRaxLT1I2cKSKijA+jkxudgRAJzdeqk6c3EoBk3e2/Q+1o9QO/8xaHIXPKu5JoTKyCi8jq5FkqUxSf3/KHrDMk24/kgj5CGG3S0WeFSp3MORoVBxVSW+BDE5XIDBycQjWxEDSQOgbrOt6Ywmbkf955jh77Kcf/v8IqhLg1a94txmbDI+oaKyrzbVOisErI4/k7GzbyxjiozbQZ6ISp+SlcFsms5ecUGpM04WmIt6r7Hwli40kzcj4NGAN1lm3pK9+0Hp7tab/IJsgTmp7T9N3ICc60nBmdtoc3l<br>
                rootDiskController: virtio<br>
                diskioread: 26918540<br>
                diskiowrite: 10790879<br>
                diskkbsread: 344913468<br>
                diskkbswrite: 76971660<br>
                displayname: VM-7afaecba-1dab-46e0-8f63-dfdd57f2f289<br>
                displayvm: true<br>
                domain: ROOT<br>
                domainid: b3355e55-63e7-11e9-b6e7-f2f9c859b603<br>
                guestosid: d2a6d04b-64e7-11e9-b6e7-f2f9c859b603<br>
                haenable: false<br>
                hostid: 03081bfd-b1ba-4c62-8771-bf4e01ce44c4<br>
                hostname: cloudstack2.mydomain.internal<br>
                hypervisor: KVM<br>
                id: 7afaecba-1dab-46e0-8f63-dfdd57f2f289<br>
                instancename: i-2-3446-VM<br>
                isdynamicallyscalable: false<br>
                keypair: ssh-keypair<br>
                memory: 512<br>
                memoryintfreekbs: 601684<br>
                memorykbs: 524288<br>
                memorytargetkbs: 524288<br>
                name: VM-7afaecba-1dab-46e0-8f63-dfdd57f2f289<br>
                networkkbsread: 1236463<br>
                networkkbswrite: 445667<br>
                nic:<br>
                - broadcasturi: vlan://567<br>
                extradhcpoption: []<br>
                gateway: 10.1.90.1<br>
                id: 862bbc94-fe3f-412d-bae1-d6a0808bd2c7<br>
                ipaddress: 10.1.90.251<br>
                isdefault: true<br>
                isolationuri: vlan://567<br>
                macaddress: 02:00:74:df:00:01<br>
                netmask: 255.255.255.0<br>
                networkid: 8e09d5d5-4fd1-4edb-8e4b-a4fc91ff1212<br>
                networkname: plexstats-net<br>
                secondaryip: []<br>
                traffictype: Guest<br>
                type: Isolated<br>
                ostypeid: d2a6d04b-64e7-11e9-b6e7-f2f9c859b603<br>
                passwordenabled: false<br>
                rootdeviceid: 1<br>
                rootdevicetype: DATADISK<br>
                securitygroup: []<br>
                serviceofferingid: eaf6a3db-6725-4eba-9dc8-ed3313cd470b<br>
                serviceofferingname: Small Instance<br>
                state: Running<br>
                tags:<br>
                - account: user<br>
                domain: ROOT<br>
                domainid: b3355e55-63e7-11e9-b6e7-f2f9c859b603<br>
                key: application<br>
                resourceid: 7afaecba-1dab-46e0-8f63-dfdd57f2f289<br>
                resourcetype: UserVm<br>
                value: plexstats<br>
                templatedisplaytext: Debian plexstats Server<br>
                templateid: fb86cf28-e32c-4bec-b09d-18a130fb482b<br>
                templatename: debian-10.0-plexstats-latest<br>
                userid: d8b93f19-64e7-11e9-b6e7-f2f9c859b603<br>
                username: user<br>
                zoneid: bd43ff6e-ecaf-45ad-955c-9b1e28b5aeef<br>
                zonename: zone1<br>
                - account: user<br>
                affinitygroup: []<br>
                cpunumber: 1<br>
                cpuspeed: 1000<br>
                cpuused: 0.95%<br>
                created: 2020-09-30T02:45:25+0800<br>
                details:<br>
                Message.ReservedCapacityFreed.Flag: ‚Äòfalse‚Äô<br>
                SSH.PublicKey: ssh-rsa
                1234B3NzaC1yc2E1234DAQABAAABAQCAc1xLjLaxrSIVVFF8ihBX0yZxYgtVT5zmn7XxghTZvB40yeeCqQRaxLT1I2cKSKijA+jkxudgRAJzdeqk6c3EoBk3e2/Q+1o9QO/8xaHIXPKu5JoTKyCi8jq5FkqUxSf3/KHrDMk24/kgj5CGG3S0WeFSp3MORoVBxVSW+BDE5XIDBycQjWxEDSQOgbrOt6Ywmbkf955jh77Kcf/v8IqhLg1a94txmbDI+oaKyrzbVOisErI4/k7GzbyxjiozbQZ6ISp+SlcFsms5ecUGpM04WmIt6r7Hwli40kzcj4NGAN1lm3pK9+0Hp7tab/IJsgTmp7T9N3ICc60nBmdtoc3l<br>
                rootDiskController: virtio<br>
                diskioread: 4047<br>
                diskiowrite: 7797<br>
                diskkbsread: 158040<br>
                diskkbswrite: 71824<br>
                displayname: VM-be958ccd-74cf-4993-a314-a92337d027fe<br>
                displayvm: true<br>
                domain: ROOT<br>
                domainid: b3355e55-63e7-11e9-b6e7-f2f9c859b603<br>
                guestosid: d2a6d04b-64e7-11e9-b6e7-f2f9c859b603<br>
                haenable: false<br>
                hostid: 03081bfd-b1ba-4c62-8771-bf4e01ce44c4<br>
                hostname: cloudstack2.mydomain.internal<br>
                hypervisor: KVM<br>
                id: be958ccd-74cf-4993-a314-a92337d027fe<br>
                instancename: i-2-4458-VM<br>
                isdynamicallyscalable: false<br>
                keypair: ssh-keypair<br>
                memory: 1024<br>
                memoryintfreekbs: 1129512<br>
                memorykbs: 1048576<br>
                memorytargetkbs: 1048576<br>
                name: VM-be958ccd-74cf-4993-a314-a92337d027fe<br>
                networkkbsread: 102652<br>
                networkkbswrite: 24906<br>
                nic:<br>
                - broadcasturi: vlan://10<br>
                extradhcpoption: []<br>
                gateway: 10.10.10.2<br>
                id: 4b44bbc6-ba31-4c0f-92ff-3628598cbb50<br>
                ipaddress: 10.10.10.174<br>
                isdefault: true<br>
                isolationuri: vlan://10<br>
                macaddress: 1e:00:f8:00:01:e9<br>
                netmask: 255.255.255.0<br>
                networkid: 07521c6d-17b4-4236-8f1d-87a61d4e770d<br>
                networkname: lan-net<br>
                secondaryip: []<br>
                traffictype: Guest<br>
                type: Shared<br>
                ostypeid: d2a6d04b-64e7-11e9-b6e7-f2f9c859b603<br>
                passwordenabled: false<br>
                rootdeviceid: 1<br>
                rootdevicetype: DATADISK<br>
                securitygroup: []<br>
                serviceofferingid: 4dea8ee3-3ce7-4d8b-ad45-46e6a769c6b6<br>
                serviceofferingname: Medium Instance<br>
                state: Running<br>
                tags:<br>
                - account: user<br>
                domain: ROOT<br>
                domainid: b3355e55-63e7-11e9-b6e7-f2f9c859b603<br>
                key: application<br>
                resourceid: be958ccd-74cf-4993-a314-a92337d027fe<br>
                resourcetype: UserVm<br>
                value:<br>
                templatedisplaytext: Debian Server<br>
                templateid: e9468c29-38cd-499a-b959-502468400b93<br>
                templatename: debian-10.0‚Äìlatest<br>
                userid: d8b93f19-64e7-11e9-b6e7-f2f9c859b603<br>
                username: user<br>
                zoneid: bd43ff6e-ecaf-45ad-955c-9b1e28b5aeef<br>
                zonename: zone1<br>
                - account: user<br>
                affinitygroup: []<br>
                cpunumber: 2<br>
                cpuspeed: 2000<br>
                cpuused: 1.06%<br>
                created: 2020-08-08T15:49:25+0800<br>
                details:<br>
                Message.ReservedCapacityFreed.Flag: ‚Äòfalse‚Äô<br>
                SSH.PublicKey: ssh-rsa
                1234B3NzaC1yc2E1234DAQABAAABAQCAc1xLjLaxrSIVVFF8ihBX0yZxYgtVT5zmn7XxghTZvB40yeeCqQRaxLT1I2cKSKijA+jkxudgRAJzdeqk6c3EoBk3e2/Q+1o9QO/8xaHIXPKu5JoTKyCi8jq5FkqUxSf3/KHrDMk24/kgj5CGG3S0WeFSp3MORoVBxVSW+BDE5XIDBycQjWxEDSQOgbrOt6Ywmbkf955jh77Kcf/v8IqhLg1a94txmbDI+oaKyrzbVOisErI4/k7GzbyxjiozbQZ6ISp+SlcFsms5ecUGpM04WmIt6r7Hwli40kzcj4NGAN1lm3pK9+0Hp7tab/IJsgTmp7T9N3ICc60nBmdtoc3l<br>
                rootDiskController: virtio<br>
                diskioread: 724131<br>
                diskiowrite: 2206871<br>
                diskkbsread: 35246384<br>
                diskkbswrite: 29790544<br>
                displayname: VM-af0a53f8-ec1d-4602-9fe2-8940cf05ba8e<br>
                displayvm: true<br>
                domain: ROOT<br>
                domainid: b3355e55-63e7-11e9-b6e7-f2f9c859b603<br>
                guestosid: d2a6d04b-64e7-11e9-b6e7-f2f9c859b603<br>
                haenable: false<br>
                hostid: 03081bfd-b1ba-4c62-8771-bf4e01ce44c4<br>
                hostname: cloudstack2.mydomain.internal<br>
                hypervisor: KVM<br>
                id: af0a53f8-ec1d-4602-9fe2-8940cf05ba8e<br>
                instancename: i-2-3399-VM<br>
                isdynamicallyscalable: false<br>
                keypair: ssh-keypair<br>
                memory: 4000<br>
                memoryintfreekbs: 4178404<br>
                memorykbs: 4096000<br>
                memorytargetkbs: 4096000<br>
                name: VM-af0a53f8-ec1d-4602-9fe2-8940cf05ba8e<br>
                networkkbsread: 1890289<br>
                networkkbswrite: 2065908<br>
                nic:<br>
                - broadcasturi: vlan://533<br>
                extradhcpoption: []<br>
                gateway: 10.1.70.1<br>
                id: 83fabe61-aa7b-432f-9db6-9767e9c3a065<br>
                ipaddress: 10.1.70.56<br>
                isdefault: true<br>
                isolationuri: vlan://534<br>
                macaddress: 02:00:09:26:00:01<br>
                netmask: 255.255.255.0<br>
                networkid: 7117ff2f-3c24-4ea6-a8e4-f96404b7a9ce<br>
                networkname: elk-net<br>
                secondaryip: []<br>
                traffictype: Guest<br>
                type: Isolated<br>
                ostypeid: d2a6d04b-64e7-11e9-b6e7-f2f9c859b603<br>
                passwordenabled: false<br>
                rootdeviceid: 1<br>
                rootdevicetype: DATADISK<br>
                securitygroup: []<br>
                serviceofferingid: 703cf223-0410-4b5d-87b9-4bb2cfe8f131<br>
                serviceofferingname: XX-Large Instance<br>
                state: Running<br>
                tags:<br>
                - account: user<br>
                domain: ROOT<br>
                domainid: b3355e55-63e7-11e9-b6e7-f2f9c859b603<br>
                key: application<br>
                resourceid: af0a53f8-ec1d-4602-9fe2-8940cf05ba8e<br>
                resourcetype: UserVm<br>
                value: elk<br>
                templatedisplaytext: Debian Server<br>
                templateid: 924e7779-88b8-4bbd-8c9a-bfa36c32365f<br>
                templatename: debian-10.0-elk-latest<br>
                userid: d8b93f19-64e7-11e9-b6e7-f2f9c859b603<br>
                username: user<br>
                zoneid: bd43ff6e-ecaf-45ad-955c-9b1e28b5aeef<br>
                zonename: zone1<br>
                nename: zone1</p>
        </div>

        <meta itemprop='headline' content='Help with YAQL query'>
        <meta itemprop='keywords' content='orquesta'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/Carlos'><span itemprop='name'>Carlos</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="1434.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-30T15:42:56Z' class='post-time'>
                September 30, 2020,  3:42pm
              </time>
              <meta itemprop='dateModified' content='2020-09-30T15:42:56Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>It will be hard to help since the YAML you‚Äôve posted is not formatted. The structure of the dataset is
                important. Can you update your post so it‚Äôs formatted correctly?</p>
            <p>In general when working with YAQL, the YAQL evaluator website <a href="http://yaqluator.com/"
                                                                                rel="noopener nofollow ugc">http://yaqluator.com/</a>
                and YAQL documentation <a href="https://yaql.readthedocs.io/en/latest/" rel="noopener nofollow ugc">https://yaql.readthedocs.io/en/latest/</a>
                are very useful</p>
        </div>

        <meta itemprop='headline' content='Help with YAQL query'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/amanda11'><span itemprop='name'>amanda11</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="1434.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-30T15:50:03Z' class='post-time'>
                September 30, 2020,  3:50pm
              </time>
              <meta itemprop='dateModified' content='2020-09-30T16:03:00Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Have you tried using the where / select. Is nic just a dict or an array of dictionaries? As indention has
                gone funny I wasn‚Äôt sure. I‚Äôm assuming virtuamachine is an array, that includes properties id and
                nic.</p>
            <p>Not sure if this is the simplest, but I think if nic is just a dictionary then you could use:</p>
            <p><code>ctx().virtualmachine.where($.nic.networkname="lan.net").select($.id)</code></p>
            <p>But if its an array of dictionaries then maybe something like:<br>
                <code>ctx().virtualmachine.where($.nic.networkname.contains("lan.net")).select($.id)</code></p>
            <p>But as Carlos mentioned the yaqluator is really useful, I generally type in the JSON into there, and then
                build up my YAQL querie s- and using the YAQL doc site he has pointed at.</p>
        </div>

        <meta itemprop='headline' content='Help with YAQL query'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/nick'><span itemprop='name'>nick</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="1434.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-01T02:28:34Z' class='post-time'>
                October 1, 2020,  2:28am
              </time>
              <meta itemprop='dateModified' content='2020-10-01T02:28:34Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Apologies, the data was actually a copy paste from yaqulator, but it appears it didn‚Äôt format correctly.
                The solution to the problem based on amanda11 response was</p>
            <p><span class="math">.virtualmachine.where(</span>.nic.networkname.contains(‚Äúlan-net‚Äù)).id</p>
            <p>I can‚Äôt work out how to post the data and maintain the formatting, if someone can tell me how I‚Äôll post
                it again for other to reference</p>
            <p>Thanks for your help &amp; support</p>
        </div>

        <meta itemprop='headline' content='Help with YAQL query'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/Carlos'><span itemprop='name'>Carlos</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="1434.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-10-01T15:49:34Z' class='post-time'>
                October 1, 2020,  3:49pm
              </time>
              <meta itemprop='dateModified' content='2020-10-01T15:49:34Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Use the button for preformatted text inside the editor.</p>
            <pre><code>indent preformatted text by 4 spaces
</code></pre>
            <p>So you just paste in the text you want preformatted. Select the pasted text in the editor and click the
                prefomatted text button. Here‚Äôs an example using some of your inital text.</p>
            <pre><code>virtualmachine:
	- account: user
		affinitygroup: []
		cpunumber: 1
		cpuspeed: 1000
		cpuused: 0.41%
		created: 2020-08-31T12:00:16+0800
		details:
		Message.ReservedCapacityFreed.Flag: ‚Äòtrue‚Äô
		SSH.PublicKey: ssh-rsa AAAB35555yc2E1234DAQABAAABAQCAc1xLjLaxrSIVVFF8ihBX0yZxYgtVT5zmn7XxghTZvB40yeeCqQRaxLT1I2cKSKijA+jkxudgRAJzdeqk6c3EoBk3e2/Q+1o9QO/8xaHIXPKu5JoTKyCi8jq5FkqUxSf3/KHrDMk24/kgj5CGG3S0WeFSp3MORoVBxVSW+BDE5XIDBycQjWxEDSQOgbrOt6Ywmbkf955jh77Kcf/v8IqhLg1a94txmbDI+oaKyrzbVOisErI4/k7GzbyxjiozbQZ6ISp+SlcFsms5ecUGpM04WmIt6r7Hwli40kzcj4NGAN1lm3pK9+0Hp7tab/IJsgTmp7T9N3ICc60nBmdtoc3l
		diskioread: 92512
		diskiowrite: 34501
		diskkbsread: 3167073
		diskkbswrite: 3920315
		diskofferingid: c8e23623-3c9c-4cf0-877b-92491560629b
		diskofferingname: Custom
		displayname: localhost
		displayvm: true</code></pre>
        </div>

        <meta itemprop='headline' content='Help with YAQL query'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>


    <!-- :preload-content -->
    <footer class="noscript-footer-nav">
        <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='../../index.html'>Home</a>
            <a href="../../categories.html">Categories</a>
            <a href="https://forum.stackstorm.com/guidelines">FAQ/Guidelines</a>
            <a href="../../tos.html">Terms of Service</a>
            <a href="../../privacy.html">Privacy Policy</a>
        </nav>
    </footer>
</div>

<footer id='noscript-footer'>
    <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>


<section id='main'>
</section>


</body>
</html>
