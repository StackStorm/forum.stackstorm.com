<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device text-size-normal anon">
<head>
    <meta charset="utf-8">
    <title>Mistral Workflow with Notifications and Parameters - Mistral - StackStorm Support (ARCHIVED)</title>
    <meta name="description" content="I‚Äôve got a mistral workflow that takes some parameters and also is set to notify on complete so I can do something else with the data after each step completes: 
---
name: test_action
entry_point: workflows/test_action.y&amp;hellip;">
    <meta name="discourse_theme_id" content="2">
    <meta name="discourse_current_homepage" content="latest">
    <meta name="generator"
          content="Discourse 2.8.0.beta6 - https://github.com/discourse/discourse version a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787">
    <link rel="icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_32x32.PNG">
    <link rel="apple-touch-icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_180x180.PNG">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <link rel="canonical" href="584.html"/>
    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https://forum.stackstorm.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://forum.stackstorm.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml"
          title="StackStorm Support (ARCHIVED) Search">


    <link href="https://sjc6.discourse-cdn.com/standard10/stylesheets/color_definitions_basis__2_3c5eec1ecf192052ea70b4afdab57a62bccc0604.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" class="light-scheme"/>

    <link href="/../../stylesheets/desktop_b2f2968742d41481357e0df259b51ce29f72481a.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" data-target="desktop"/>


    <meta name="fragment" content="!">


    <link id="manifest-link" rel="manifest" href="../../manifest.webmanifest" crossorigin="use-credentials">


    <link rel="alternate" type="application/rss+xml"
          title="RSS feed of &#39;Mistral Workflow with Notifications and Parameters&#39;" href="584.rss"/>
    <meta property="og:site_name" content="StackStorm Support (ARCHIVED)"/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:url"
          content="https://forum.stackstorm.com/t/mistral-workflow-with-notifications-and-parameters/584"/>
    <meta name="twitter:url"
          content="https://forum.stackstorm.com/t/mistral-workflow-with-notifications-and-parameters/584"/>
    <meta property="og:title" content="Mistral Workflow with Notifications and Parameters"/>
    <meta name="twitter:title" content="Mistral Workflow with Notifications and Parameters"/>
    <meta property="og:description"
          content="I‚Äôve got a mistral workflow that takes some parameters and also is set to notify on complete so I can do something else with the data after each step completes:  --- name: test_action entry_point: workflows/test_action.yaml runner_type: mistral-v2 pack: test_pack parameters:   param_1:     type: string notify:   on-complete:     routes:       - &quot;to_somewhere&quot;  Corresponding rule:  --- ... trigger:   type: core.st2.generic.notifytrigger   parameters: {} criteria:   trigger.channel:     pattern: &quot;..."/>
    <meta name="twitter:description"
          content="I‚Äôve got a mistral workflow that takes some parameters and also is set to notify on complete so I can do something else with the data after each step completes:  --- name: test_action entry_point: workflows/test_action.yaml runner_type: mistral-v2 pack: test_pack parameters:   param_1:     type: string notify:   on-complete:     routes:       - &quot;to_somewhere&quot;  Corresponding rule:  --- ... trigger:   type: core.st2.generic.notifytrigger   parameters: {} criteria:   trigger.channel:     pattern: &quot;..."/>
    <meta name="twitter:label1" value="Reading time"/>
    <meta name="twitter:data1" value="1 mins üïë"/>
    <meta name="twitter:label2" value="Likes"/>
    <meta name="twitter:data2" value="1 ‚ù§"/>
    <meta property="article:published_time" content="2019-04-03T21:18:04+00:00"/>
    <meta property="og:ignore_canonical" content="true"/>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "QAPage",
        "name": "Mistral Workflow with Notifications and Parameters",
        "mainEntity": {
            "@type": "Question",
            "name": "Mistral Workflow with Notifications and Parameters",
            "text": "I‚Äôve got a mistral workflow that takes some parameters and also is set to notify on complete so I can do something else with the data after each step completes:\n\n---\n\nname: test_action\n\nentry_point: workflows/test_action.yaml\n\nrunner_type: mistral-v2\n\npack: test_pack\n\nparameters:\n\nparam_1:\n\ntype: str&hellip;",
            "upvoteCount": 0,
            "answerCount": 0,
            "dateCreated": "2019-04-03T21:18:04.078Z",
            "author": {
                "@type": "Person",
                "name": ""
            }
        }
    }
    </script>

    <meta id="data-discourse-setup" data-cdn="https://sjc6.discourse-cdn.com/standard10"
          data-base-url="https://forum.stackstorm.com" data-base-uri="" data-environment="production"
          data-letter-avatar-version="5_8fec8e114563efeaf5265573e510f08e"
          data-markdown-it-url="https://aws1.discourse-cdn.com/standard10/assets/markdown-it-bundle-31e9a9c535ca1801c26da78b0ff465821751a98f921c5cdc5457d7e5a69e9748.js"
          data-service-worker-url="service-worker.js" data-default-locale="en"
          data-asset-version="597e36448c9b51d0fa3b7e43ec1fd6d5" data-disable-custom-css="false"
          data-highlight-js-path="/highlight-js/forum.stackstorm.com/ac0f4aa001e1343346941766d72e0c1ae330832b.js"
          data-svg-sprite-path="/svg-sprite/forum.stackstorm.com/svg-2-c2ad434b1e06079c7e282124aed9938dc95b83ea.js"
          data-enable-js-error-reporting="true" data-color-scheme-is-dark="false" data-user-dark-scheme-id="-1"
          data-s3-cdn="https://aws1.discourse-cdn.com/standard10"
          data-s3-base-url="//discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/standard10">

    <meta name="discourse/config/environment"
          content="%7B%22modulePrefix%22%3A%22discourse%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%22%2C%22locationType%22%3A%22auto%22%2C%22historySupportMiddleware%22%3Afalse%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22discourse%22%2C%22version%22%3A%222.8.0.beta6%20a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787%22%2C%22exportApplicationGlobal%22%3Atrue%7D%7D"/>
</head>

<body class="">


<header class="d-header">
    <div class="wrap">
        <div class="contents clearfix">
            <div class="title">
                <a href="../../index.html">
                    <picture>
                        <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png"
                             alt="StackStorm Support (ARCHIVED)" id="site-logo"/>
                    </picture>
                </a>
            </div>

        </div>
    </div>
</header>

<div id="main-outlet" class="wrap" role="main">
    <!-- preload-content: -->

    <!-- EOF START -->
    <div class="container" id="main-container">
        <div id="ember11" class="ember-view"></div>
        <div id="ember12" class="controls ember-view"><!----></div>
        <div id="ember13" class="ember-view"><!----></div>
        <div id="ember14" class="ember-view">
            <div class="row">
                <div id="global-notice-alert-read-only" class="alert alert-info alert-read-only">
                    <!----> <span class="text">This site is in read only mode. Please continue to browse, but replying, likes, and other actions are disabled for now.</span>

                    <!---->    </div>
            </div>
            <div class="row">
                <div id="global-notice-alert-global-notice" class="alert alert-info alert-global-notice">
                    <!----> <span class="text"><h3>‚ö†Ô∏è We've moved!</h3>  <p> Hi there!<br><br> To reduce project dependency on 3rd party paid services the StackStorm TSC has decided to move the Q/A from this forum to <a
                        href="https://github.com/StackStorm/st2/discussions">Github Discussions</a>. This will make user experience better integrated with the native Github flow, as well as the questions closer to the community where they can provide answers. </p>  <p> Use üîó <b><a
                        href="https://github.com/StackStorm/st2/discussions" class="active">Github Discussions</a></b> to ask your questions. </p></span>

                    <!---->    </div>
            </div>
        </div>
        <div id="ember17" class="hidden create-topics-notice ember-view"><!----></div>
        <!---->
    </div>
    <!-- EOF END -->
    <div id="topic-title">
        <h1>
            <a href="584.html">Mistral Workflow with Notifications and Parameters</a>
        </h1>

        <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/workflow-related-issues/15" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Workflows</span>
              </span>
            </a>
            <meta itemprop="position" content="1"/>
          </span>
            <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/workflow-related-issues/mistral-related-issues/16" class="badge-wrapper bullet"
               itemprop="item">
              <span class='badge-category-bg' style='background-color: #652D90'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Mistral</span>
              </span>
            </a>
            <meta itemprop="position" content="2"/>
          </span>
        </div>

    </div>


    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/MickeyPvX'><span itemprop='name'>MickeyPvX</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T21:18:04Z' class='post-time'>
                April 3, 2019,  9:18pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T21:45:37Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>I‚Äôve got a mistral workflow that takes some parameters and also is set to notify on complete so I can do
                something else with the data after each step completes:</p>
            <pre><code>---
name: test_action
entry_point: workflows/test_action.yaml
runner_type: mistral-v2
pack: test_pack
parameters:
  param_1:
    type: string
notify:
  on-complete:
    routes:
      - "to_somewhere"
</code></pre>
            <p>Corresponding rule:</p>
            <pre><code>---
...
trigger:
  type: core.st2.generic.notifytrigger
  parameters: {}
criteria:
  trigger.channel:
    pattern: "to_somewhere"
    type: "equals"
action:
  ref: test_pack.send_somewhere
  parameters:
    message: "{{ trigger }}"
</code></pre>
            <p>I‚Äôve been trying to figure out the best way to get the parameters fed to the ‚Äútest_action‚Äù workflow to be
                sent at the end of each task in the workflow and at the end of the workflow itself. Jinja templates such
                as {{ action_parameters }} or {{ action_context }} etc. in the test_action.yaml notify section don‚Äôt
                seem to work quite right.</p>
            <p>So for example, I‚Äôve tried:</p>
            <pre><code>notify:
  on-complete:
    routes:
      - "to_somewhere"
  data:
    param: "{{ action_parameters.param_1 }}"
</code></pre>
            <p>But it seems like it doesn‚Äôt render out properly for both the tasks in the workflow and the workflow‚Ä¶it‚Äôs
                one or the other.</p>
            <p>I‚Äôve seen in the docs regarding notifications and mistral that per task notifications aren‚Äôt fully
                supported as ‚Äúfirst class citizens‚Äù and wondering if that‚Äôs what‚Äôs causing my frustration with this.
                Also open to suggestion on how to achieve the end result in a different way.</p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>
        <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T21:25:03Z' class='post-time'>
                April 3, 2019,  9:25pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T21:25:03Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Looks like some detail got lost in posting there <a class="mention"
                                                                   href="https://github.com/mickeypvx">@MickeyPvX</a>?
            </p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/MickeyPvX'><span itemprop='name'>MickeyPvX</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T21:25:41Z' class='post-time'>
                April 3, 2019,  9:25pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T21:25:41Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>sorry, working on it!</p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T21:46:31Z' class='post-time'>
                April 3, 2019,  9:46pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T21:46:31Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <aside class="quote no-group" data-post="1" data-topic="584">
                <div class="title">
                    <div class="quote-controls"></div>
                    <img alt width="20" height="20" src="https://avatars.discourse.org/v2/letter/m/5fc32e/40.png"
                         class="avatar"> MickeyPvX:
                </div>
                <blockquote>
                    <p>Also open to suggestion on how to achieve the end result in a different way</p>
                </blockquote>
            </aside>
            <p>What‚Äôs the end goal here? You want to post a message to Slack that includes some of the original action
                parameters?</p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T21:49:23Z' class='post-time'>
                April 3, 2019,  9:49pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T21:49:23Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Because you don‚Äôt <em>have</em> to use <code>notify</code> in your workflow.</p>
            <p>You <em>could</em> just call <code>test_pack.send_somewhere</code> as another task in your workflow.</p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/MickeyPvX'><span itemprop='name'>MickeyPvX</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T00:07:16Z' class='post-time'>
                April 4, 2019, 12:07am
              </time>
              <meta itemprop='dateModified' content='2019-04-04T00:07:16Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Yeah, I played with that a bit, but it seemed like a lot of repetitive blocks of code. Plus, with some of
                the workflows I‚Äôd like to apply this to, they‚Äôre fairly complex and just being able to apply a
                notification on the workflow metadata would be super efficient.</p>
            <p>You‚Äôve got the gist of what I‚Äôm trying to do; I need live updates on each task and a final message upon
                workflow completion. The notification as shown above does exactly what I need but without a key piece of
                data that I‚Äôm getting externally.</p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T01:39:03Z' class='post-time'>
                April 4, 2019,  1:39am
              </time>
              <meta itemprop='dateModified' content='2019-04-04T01:39:03Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p><a href="https://docs.stackstorm.com/chatops/notifications.html" class="inline-onebox"
                  rel="nofollow noopener">Notifications ‚Äî StackStorm 2.10.4 documentation</a> says:</p>
            <blockquote>
                <p>When the notification triggers are sent out, the message is supplied along with a <code>data</code>
                    field containing the results of the execution. The rule can use these two fields (
                    <code>message</code> and <code>data</code> ), and send it out as part of the action.</p>
            </blockquote>
            <p>You could try creating a notification rule that dumps out the contents of <code>{{ trigger.data }}</code>,
                and see what it contains.</p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/MickeyPvX'><span itemprop='name'>MickeyPvX</span></a>
            
          </span>

            <link itemprop="mainEntityOfPage" href="584.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T15:08:55Z' class='post-time'>
                April 4, 2019,  3:08pm
              </time>
              <meta itemprop='dateModified' content='2019-04-04T15:08:55Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>The default data contents is the result of each action/workflow, which is useful, but if I want to pass
                around ‚Äúparam_1‚Äù then I‚Äôm back to modifying every custom action to include it in its result, and in some
                cases where actions from, say, the core pack, aren‚Äôt readily modifiable, that makes consistency pretty
                difficult.</p>
            <p>Adding to the data dictionary seemed to be what I needed, but when passing in a Jinja template such
                as:</p>
            <pre><code>data:
  env_data: "{{ env() }}"
</code></pre>
            <p>It gets the correct value for individual actions, but the notification for the workflow completion just
                returns:</p>
            <pre><code>data: {
  result: {&lt;stuff here&gt;},
  env_data: "{{ env() }}" &lt;-- doesn't render for the workflow
}
</code></pre>
            <p>How I wish there was an ‚Äú{{ workflow_parameters }}‚Äù option <img
                    src="https://emoji.discourse-cdn.com/apple/smiley.png?v=9" title=":smiley:" class="emoji"
                    alt=":smiley:"></p>
        </div>

        <meta itemprop='headline' content='Mistral Workflow with Notifications and Parameters'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>


    <!-- :preload-content -->
    <footer class="noscript-footer-nav">
        <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='../../index.html'>Home</a>
            <a href="../../categories.html">Categories</a>
            <a href="https://forum.stackstorm.com/guidelines">FAQ/Guidelines</a>
            <a href="../../tos.html">Terms of Service</a>
            <a href="../../privacy.html">Privacy Policy</a>
        </nav>
    </footer>
</div>

<footer id='noscript-footer'>
    <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>


<section id='main'>
</section>


</body>
</html>
