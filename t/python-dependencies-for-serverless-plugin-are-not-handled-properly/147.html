<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device text-size-normal anon">
<head>
    <meta charset="utf-8">
    <title>Python dependencies for serverless plugin are not handled properly - How do I do X in st2? - StackStorm
        Support (ARCHIVED)</title>
    <meta name="description" content="Tried to use serverless plugin and use an action from exchange. 
Action: “GET” from servicenow pack 
Encountered several errors with python dependencies using serverless. Here is an example attached: 
 [44%20AM]
Observat&amp;hellip;">
    <meta name="discourse_theme_id" content="2">
    <meta name="discourse_current_homepage" content="latest">
    <meta name="generator"
          content="Discourse 2.8.0.beta6 - https://github.com/discourse/discourse version a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787">
    <link rel="icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_32x32.PNG">
    <link rel="apple-touch-icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_180x180.PNG">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <link rel="canonical" href="147.html"/>
    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https://forum.stackstorm.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://forum.stackstorm.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml"
          title="StackStorm Support (ARCHIVED) Search">


    <link href="/../../stylesheets/color_definitions_base__2_3c5eec1ecf192052ea70b4afdab57a62bccc0604.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" class="light-scheme"/>

    <link href="/../../stylesheets/desktop_b2f2968742d41481357e0df259b51ce29f72481a.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" data-target="desktop"/>


    <meta name="fragment" content="!">


    <link id="manifest-link" rel="manifest" href="../../manifest.webmanifest" crossorigin="use-credentials">


    <link rel="alternate" type="application/rss+xml"
          title="RSS feed of &#39;Python dependencies for serverless plugin are not handled properly&#39;"
          href="https://forum.stackstorm.com/t/python-dependencies-for-serverless-plugin-are-not-handled-properly/147.rss"/>
    <meta property="og:site_name" content="StackStorm Support (ARCHIVED)"/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_1024x724.png"/>
    <meta property="og:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_1024x724.png"/>
    <meta property="og:url"
          content="https://forum.stackstorm.com/t/python-dependencies-for-serverless-plugin-are-not-handled-properly/147"/>
    <meta name="twitter:url"
          content="https://forum.stackstorm.com/t/python-dependencies-for-serverless-plugin-are-not-handled-properly/147"/>
    <meta property="og:title" content="Python dependencies for serverless plugin are not handled properly"/>
    <meta name="twitter:title" content="Python dependencies for serverless plugin are not handled properly"/>
    <meta property="og:description"
          content="Tried to use serverless plugin and use an action from exchange.  Action: “GET” from servicenow pack  Encountered several errors with python dependencies using serverless. Here is an example attached:     Observations:  python dependencies are not built/copied into virtual environments folder during deployment in the serverless package although they are specified in the requirements.txt and the modules exist in the system.  For the “GET” action in servicenow pack, the only dependency listed was “..."/>
    <meta name="twitter:description"
          content="Tried to use serverless plugin and use an action from exchange.  Action: “GET” from servicenow pack  Encountered several errors with python dependencies using serverless. Here is an example attached:     Observations:  python dependencies are not built/copied into virtual environments folder during deployment in the serverless package although they are specified in the requirements.txt and the modules exist in the system.  For the “GET” action in servicenow pack, the only dependency listed was “..."/>
    <meta property="article:published_time" content="2018-05-16T18:02:17+00:00"/>
    <meta property="og:ignore_canonical" content="true"/>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "QAPage",
        "name": "Python dependencies for serverless plugin are not handled properly",
        "mainEntity": {
            "@type": "Question",
            "name": "Python dependencies for serverless plugin are not handled properly",
            "text": "Tried to use serverless plugin and use an action from exchange.\n\nAction: “GET” from servicenow pack\n\nEncountered several errors with python dependencies using serverless. Here is an example attached:\n\n<a class=\"lightbox\" href="
            https://forum.stackstorm.com/t/python-dependencies-for-serverless-plugin-are-not-handled-properly/\&quot;https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c.png\&quot;" title=\"Screen Shot 2018-05-16 at 10.29.44 AM.png\" rel=\"nofollow noopener\">[44%20AM]<\/a>\n\nObservations:\n\npython dependencies are not built/copied into virtual environments folde&hellip;","upvoteCount":0,"answerCount":0,"dateCreated":"2018-05-16T18:02:16.985Z","author":{"@type":"Person","name":"Prapoorna Kotha"}}}
    </script>

    <meta id="data-discourse-setup" data-cdn="https://sjc6.discourse-cdn.com/standard10"
          data-base-url="https://forum.stackstorm.com" data-base-uri="" data-environment="production"
          data-letter-avatar-version="5_8fec8e114563efeaf5265573e510f08e"
          data-markdown-it-url="https://aws1.discourse-cdn.com/standard10/assets/markdown-it-bundle-31e9a9c535ca1801c26da78b0ff465821751a98f921c5cdc5457d7e5a69e9748.js"
          data-service-worker-url="service-worker.js" data-default-locale="en"
          data-asset-version="597e36448c9b51d0fa3b7e43ec1fd6d5" data-disable-custom-css="false"
          data-highlight-js-path="/highlight-js/forum.stackstorm.com/ac0f4aa001e1343346941766d72e0c1ae330832b.js"
          data-svg-sprite-path="/svg-sprite/forum.stackstorm.com/svg-2-c2ad434b1e06079c7e282124aed9938dc95b83ea.js"
          data-enable-js-error-reporting="true" data-color-scheme-is-dark="false" data-user-dark-scheme-id="-1"
          data-s3-cdn="https://aws1.discourse-cdn.com/standard10"
          data-s3-base-url="//discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/standard10">

    <meta name="discourse/config/environment"
          content="%7B%22modulePrefix%22%3A%22discourse%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%22%2C%22locationType%22%3A%22auto%22%2C%22historySupportMiddleware%22%3Afalse%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22discourse%22%2C%22version%22%3A%222.8.0.beta6%20a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787%22%2C%22exportApplicationGlobal%22%3Atrue%7D%7D"/>
</head>

<body class="">


<header class="d-header">
    <div class="wrap">
        <div class="contents clearfix">
            <div class="title">
                <a href="../../index.html">
                    <picture>
                        <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png"
                             alt="StackStorm Support (ARCHIVED)" id="site-logo"/>
                    </picture>
                </a>
            </div>

        </div>
    </div>
</header>

<div id="main-outlet" class="wrap" role="main">
    <!-- preload-content: -->

    <!-- EOF START -->
    <div class="container" id="main-container">
        <div id="ember11" class="ember-view"></div>
        <div id="ember12" class="controls ember-view"><!----></div>
        <div id="ember13" class="ember-view"><!----></div>
        <div id="ember14" class="ember-view">
            <div class="row">
                <div id="global-notice-alert-read-only" class="alert alert-info alert-read-only">
                    <!----> <span class="text">This site is in read only mode. Please continue to browse, but replying, likes, and other actions are disabled for now.</span>

                    <!---->    </div>
            </div>
            <div class="row">
                <div id="global-notice-alert-global-notice" class="alert alert-info alert-global-notice">
                    <!----> <span class="text"><h3>⚠️ We've moved!</h3>  <p> Hi there!<br><br> To reduce project dependency on 3rd party paid services the StackStorm TSC has decided to move the Q/A from this forum to <a
                        href="https://github.com/StackStorm/st2/discussions">Github Discussions</a>. This will make user experience better integrated with the native Github flow, as well as the questions closer to the community where they can provide answers. </p>  <p> Use 🔗 <b><a
                        href="https://github.com/StackStorm/st2/discussions" class="active">Github Discussions</a></b> to ask your questions. </p></span>

                    <!---->    </div>
            </div>
        </div>
        <div id="ember17" class="hidden create-topics-notice ember-view"><!----></div>
        <!---->
    </div>
    <!-- EOF END -->
    <div id="topic-title">
        <h1>
            <a href="147.html">Python dependencies for serverless plugin are not handled properly</a>
        </h1>

        <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/integrations-and-exchange-related-issues/10" class="badge-wrapper bullet"
               itemprop="item">
              <span class='badge-category-bg' style='background-color: #ED207B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Exchange</span>
              </span>
            </a>
            <meta itemprop="position" content="1"/>
          </span>
            <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/integrations-and-exchange-related-issues/how-do-i-do-x-in-st2/14"
               class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>How do I do X in st2?</span>
              </span>
            </a>
            <meta itemprop="position" content="2"/>
          </span>
        </div>

        <div class="topic-category">
            <div class='discourse-tags list-tags'>
                <a href='../../tag/serverless' class='discourse-tag' rel="tag">serverless</a>,
                <a href='../../tag/python' class='discourse-tag' rel="tag">python</a>
            </div>
        </div>
    </div>


    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/prapoorna'><span itemprop='name'>prapoorna</span></a>
            (Prapoorna Kotha)
          </span>

            <link itemprop="mainEntityOfPage" href="147.html">

            <link itemprop="image"
                  href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c.png">

            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-16T18:02:17Z' class='post-time'>
                May 16, 2018,  6:02pm
              </time>
              <meta itemprop='dateModified' content='2018-05-16T22:56:09Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Tried to use serverless plugin and use an action from exchange.<br>
                Action: “GET” from servicenow pack</p>
            <p>Encountered several errors with python dependencies using serverless. Here is an example attached:<br>
            <div class="lightbox-wrapper"><a class="lightbox"
                                             href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c.png"
                                             title="Screen Shot 2018-05-16 at 10.29.44 AM.png"
                                             rel="nofollow noopener"><img
                    src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_690x488.png"
                    alt="44%20AM" width="690" height="488"
                    srcset="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_690x488.png, https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_1035x732.png 1.5x, https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_1380x976.png 2x"
                    data-small-upload="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/b35e23248f17c852899e6baec6ba36ac5c842e8c_2_10x10.png">
                <div class="meta">
                    <svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true">
                        <use xlink:href="#far-image"></use>
                    </svg>
                    <span class="filename">Screen Shot 2018-05-16 at 10.29.44 AM.png</span><span class="informations">2140×1514 355 KB</span>
                    <svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true">
                        <use xlink:href="#discourse-expand"></use>
                    </svg>
                </div>
            </a></div>
            </p>
            <p>Observations:<br>
                python dependencies are not built/copied into virtual environments folder during deployment in the
                serverless package although they are specified in the requirements.txt and the modules exist in the
                system.</p>
            <p>For the “GET” action in servicenow pack, the only dependency listed was “pysnow” which was part of the
                virtual environments in the package. However, when invoke command is run, it complained: ‘~st2/handler’:
                No module named six</p>
            <p>When six was installed and added to requirements.txt, six module wasn’t copied to the virtual
                environments.<br>
                I had to manually copy the module to the virtual environments, redeploy and invoke.<br>
                This time it complained: ‘~st2/handler’: No module named oslo_config<br>
                Repeated above steps and next it complained ‘~st2/handler’: No module named enum<br>
                And assuming its a repetitive process until all dependencies are satisfied and I stopped at this point
                and couldn’t successfully invoke the action.</p>
            <p>Questions:</p>
            <ol>
                <li>Where are the dependencies listed for an action with serverless plugin? Does serverless create a
                    wrapper and has more internal dependencies, if so what are they? Cause they only show up during
                    invocation and its hard to figure out
                </li>
                <li>When an action is cloned from exchange during serverless deployment, should we assume the
                    dependencies are already listed in requirements.txt?
                </li>
                <li>What are actions to be taken to handle the dependencies? Clearly manual copy is not an option.<br>
                    Looking for a list and automated procedure that is handled during serverless deployment.
                </li>
            </ol>
        </div>

        <meta itemprop='headline' content='Python dependencies for serverless plugin are not handled properly'>
        <meta itemprop='keywords' content='serverless, python'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/armab'><span itemprop='name'>armab</span></a>
            (Eugen Cusmaunsa)
          </span>

            <link itemprop="mainEntityOfPage" href="147.html">

            <link itemprop="image"
                  href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/a823cc8b0b316c925a419e907e5c2449a4b008d9.png">

            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-16T23:10:42Z' class='post-time'>
                May 16, 2018, 11:10pm
              </time>
              <meta itemprop='dateModified' content='2018-05-16T23:10:42Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>As answered in Slack, since your OS env is Darwin, there were previous issues with trying StackStorm
                serverless plugin under macOS:<br>
            <aside class="onebox githubissue">
                <header class="source">
                    <a href="https://github.com/StackStorm/serverless-plugin-stackstorm/issues/27" target="_blank"
                       rel="nofollow noopener">github.com/StackStorm/serverless-plugin-stackstorm</a>
                </header>
                <article class="onebox-body">
                    <a href="https://github.com/um255" rel="nofollow noopener">
                        <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/a823cc8b0b316c925a419e907e5c2449a4b008d9.png"
                             class="thumbnail onebox-avatar" width="420" height="420">
                    </a>

                    <h4><a href="https://github.com/StackStorm/serverless-plugin-stackstorm/issues/27" target="_blank"
                           rel="nofollow noopener">Issue: sls stackstorm info and install command failing on Mac OS
                        Siera V 10.12.16</a></h4>

                    <div class="date" style="margin-top:10px;">
                        <div class="user" style="margin-top:10px;">
                            opened by <a href="https://github.com/um255" target="_blank"
                                         rel="nofollow noopener">um255</a>
                            on <a href="https://github.com/StackStorm/serverless-plugin-stackstorm/issues/27"
                                  target="_blank" rel="nofollow noopener">2017-12-27</a>
                        </div>
                        <div class="user">
                        </div>
                    </div>

                    <pre class="content" style="white-space: pre-wrap;">Hi Team,
I installed openssl &amp; node on mac using brew install.
I also installed all the prerequisites required.
But when I tried to...</pre>

                    <div class="labels">
                    </div>

                </article>
                <div class="onebox-metadata">


                </div>
                <div style="clear: both"></div>
            </aside>
            </p>
            <p>I’d suggest to try it in another environment like Ubuntu Xenial (VM/Vagrant) and check if those errors
                persist.</p>
        </div>

        <meta itemprop='headline' content='Python dependencies for serverless plugin are not handled properly'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>


    <!-- :preload-content -->
    <footer class="noscript-footer-nav">
        <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='../../index.html'>Home</a>
            <a href="../../categories.html">Categories</a>
            <a href="https://forum.stackstorm.com/guidelines">FAQ/Guidelines</a>
            <a href="../../tos.html">Terms of Service</a>
            <a href="../../privacy.html">Privacy Policy</a>
        </nav>
    </footer>
</div>

<footer id='noscript-footer'>
    <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>


<section id='main'>
</section>


</body>
</html>
