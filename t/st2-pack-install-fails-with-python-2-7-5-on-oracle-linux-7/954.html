<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device text-size-normal anon">
<head>
    <meta charset="utf-8">
    <title>St2 pack install fails with python 2.7.5 on Oracle Linux 7 - packs - StackStorm Support (ARCHIVED)</title>
    <meta name="description" content="We are trying to install packs on Oracle Linux 7 with Python 2.7.5 and StackStorm 3.1.0, but it is failing with the below error: 
-bash-4.2# /vol_01/opt/stackstorm/st2/bin/virtualenv -p /opt/stackstorm/st2/bin/python --a&amp;hellip;">
    <meta name="discourse_theme_id" content="2">
    <meta name="discourse_current_homepage" content="latest">
    <meta name="generator"
          content="Discourse 2.8.0.beta6 - https://github.com/discourse/discourse version a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787">
    <link rel="icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_32x32.PNG">
    <link rel="apple-touch-icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_180x180.PNG">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <link rel="canonical" href="954.html"/>
    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https://forum.stackstorm.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://forum.stackstorm.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml"
          title="StackStorm Support (ARCHIVED) Search">


    <link href="/../../stylesheets/color_definitions_base__2_3c5eec1ecf192052ea70b4afdab57a62bccc0604.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" class="light-scheme"/>

    <link href="/../../stylesheets/desktop_b2f2968742d41481357e0df259b51ce29f72481a.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" data-target="desktop"/>


    <meta name="fragment" content="!">


    <link id="manifest-link" rel="manifest" href="../../manifest.webmanifest" crossorigin="use-credentials">


    <link rel="alternate" type="application/rss+xml"
          title="RSS feed of &#39;St2 pack install fails with python 2.7.5 on Oracle Linux 7&#39;"
          href="https://forum.stackstorm.com/t/st2-pack-install-fails-with-python-2-7-5-on-oracle-linux-7/954.rss"/>
    <meta property="og:site_name" content="StackStorm Support (ARCHIVED)"/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:url"
          content="https://forum.stackstorm.com/t/st2-pack-install-fails-with-python-2-7-5-on-oracle-linux-7/954"/>
    <meta name="twitter:url"
          content="https://forum.stackstorm.com/t/st2-pack-install-fails-with-python-2-7-5-on-oracle-linux-7/954"/>
    <meta property="og:title" content="St2 pack install fails with python 2.7.5 on Oracle Linux 7"/>
    <meta name="twitter:title" content="St2 pack install fails with python 2.7.5 on Oracle Linux 7"/>
    <meta property="og:description"
          content="We are trying to install packs on Oracle Linux 7 with Python 2.7.5 and StackStorm 3.1.0, but it is failing with the below error:  -bash-4.2# /vol_01/opt/stackstorm/st2/bin/virtualenv -p /opt/stackstorm/st2/bin/python --always-copy --no-download /opt/stackstorm/virtualenvs/mc_salt  Already using interpreter /opt/stackstorm/st2/bin/python Using real prefix &#39;/usr&#39;   No LICENSE.txt / LICENSE found in source New python executable in /opt/stackstorm/virtualenvs/mc_salt/bin/python Command /opt/stacksto..."/>
    <meta name="twitter:description"
          content="We are trying to install packs on Oracle Linux 7 with Python 2.7.5 and StackStorm 3.1.0, but it is failing with the below error:  -bash-4.2# /vol_01/opt/stackstorm/st2/bin/virtualenv -p /opt/stackstorm/st2/bin/python --always-copy --no-download /opt/stackstorm/virtualenvs/mc_salt  Already using interpreter /opt/stackstorm/st2/bin/python Using real prefix &#39;/usr&#39;   No LICENSE.txt / LICENSE found in source New python executable in /opt/stackstorm/virtualenvs/mc_salt/bin/python Command /opt/stacksto..."/>
    <meta property="article:published_time" content="2019-12-10T15:17:29+00:00"/>
    <meta property="og:ignore_canonical" content="true"/>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "QAPage",
        "name": "St2 pack install fails with python 2.7.5 on Oracle Linux 7",
        "mainEntity": {
            "@type": "Question",
            "name": "St2 pack install fails with python 2.7.5 on Oracle Linux 7",
            "text": "We are trying to install packs on Oracle Linux 7 with Python 2.7.5 and StackStorm 3.1.0, but it is failing with the below error:\n\n-bash-4.2# /vol_01/opt/stackstorm/st2/bin/virtualenv -p /opt/stackstorm/st2/bin/python --always-copy --no-download /opt/stackstorm/virtualenvs/mc_salt\n\nAlready using inte&hellip;",
            "upvoteCount": 0,
            "answerCount": 0,
            "dateCreated": "2019-12-10T15:17:29.834Z",
            "author": {
                "@type": "Person",
                "name": "Brian Thompson"
            }
        }
    }
    </script>

    <meta id="data-discourse-setup" data-cdn="https://sjc6.discourse-cdn.com/standard10"
          data-base-url="https://forum.stackstorm.com" data-base-uri="" data-environment="production"
          data-letter-avatar-version="5_8fec8e114563efeaf5265573e510f08e"
          data-markdown-it-url="https://aws1.discourse-cdn.com/standard10/assets/markdown-it-bundle-31e9a9c535ca1801c26da78b0ff465821751a98f921c5cdc5457d7e5a69e9748.js"
          data-service-worker-url="service-worker.js" data-default-locale="en"
          data-asset-version="597e36448c9b51d0fa3b7e43ec1fd6d5" data-disable-custom-css="false"
          data-highlight-js-path="/highlight-js/forum.stackstorm.com/ac0f4aa001e1343346941766d72e0c1ae330832b.js"
          data-svg-sprite-path="/svg-sprite/forum.stackstorm.com/svg-2-c2ad434b1e06079c7e282124aed9938dc95b83ea.js"
          data-enable-js-error-reporting="true" data-color-scheme-is-dark="false" data-user-dark-scheme-id="-1"
          data-s3-cdn="https://aws1.discourse-cdn.com/standard10"
          data-s3-base-url="//discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/standard10">

    <meta name="discourse/config/environment"
          content="%7B%22modulePrefix%22%3A%22discourse%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%22%2C%22locationType%22%3A%22auto%22%2C%22historySupportMiddleware%22%3Afalse%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22discourse%22%2C%22version%22%3A%222.8.0.beta6%20a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787%22%2C%22exportApplicationGlobal%22%3Atrue%7D%7D"/>
</head>

<body class="">


<header class="d-header">
    <div class="wrap">
        <div class="contents clearfix">
            <div class="title">
                <a href="../../index.html">
                    <picture>
                        <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png"
                             alt="StackStorm Support (ARCHIVED)" id="site-logo"/>
                    </picture>
                </a>
            </div>

        </div>
    </div>
</header>

<div id="main-outlet" class="wrap" role="main">
    <!-- preload-content: -->

    <!-- EOF START -->
    <div class="container" id="main-container">
        <div id="ember11" class="ember-view"></div>
        <div id="ember12" class="controls ember-view"><!----></div>
        <div id="ember13" class="ember-view"><!----></div>
        <div id="ember14" class="ember-view">
            <div class="row">
                <div id="global-notice-alert-read-only" class="alert alert-info alert-read-only">
                    <!----> <span class="text">This site is in read only mode. Please continue to browse, but replying, likes, and other actions are disabled for now.</span>

                    <!---->    </div>
            </div>
            <div class="row">
                <div id="global-notice-alert-global-notice" class="alert alert-info alert-global-notice">
                    <!----> <span class="text"><h3>‚ö†Ô∏è We've moved!</h3>  <p> Hi there!<br><br> To reduce project dependency on 3rd party paid services the StackStorm TSC has decided to move the Q/A from this forum to <a
                        href="https://github.com/StackStorm/st2/discussions">Github Discussions</a>. This will make user experience better integrated with the native Github flow, as well as the questions closer to the community where they can provide answers. </p>  <p> Use üîó <b><a
                        href="https://github.com/StackStorm/st2/discussions" class="active">Github Discussions</a></b> to ask your questions. </p></span>

                    <!---->    </div>
            </div>
        </div>
        <div id="ember17" class="hidden create-topics-notice ember-view"><!----></div>
        <!---->
    </div>
    <!-- EOF END -->
    <div id="topic-title">
        <h1>
            <a href="954.html">St2 pack install fails with python 2.7.5 on Oracle Linux 7</a>
        </h1>


        <div class="topic-category">
            <div class='discourse-tags list-tags'>
                <a href='../../tag/packs' class='discourse-tag' rel="tag">packs</a>,
                <a href='../../tag/python' class='discourse-tag' rel="tag">python</a>
            </div>
        </div>
    </div>


    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/Manik'><span itemprop='name'>Manik</span></a>
            (Brian Thompson)
          </span>

            <link itemprop="mainEntityOfPage" href="954.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-12-10T15:17:29Z' class='post-time'>
                December 10, 2019,  3:17pm
              </time>
              <meta itemprop='dateModified' content='2019-12-10T15:17:29Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>We are trying to install packs on Oracle Linux 7 with Python 2.7.5 and StackStorm 3.1.0, but it is
                failing with the below error:</p>
            <pre><code class="lang-auto">-bash-4.2# /vol_01/opt/stackstorm/st2/bin/virtualenv -p /opt/stackstorm/st2/bin/python --always-copy --no-download /opt/stackstorm/virtualenvs/mc_salt

Already using interpreter /opt/stackstorm/st2/bin/python
Using real prefix '/usr'
  No LICENSE.txt / LICENSE found in source
New python executable in /opt/stackstorm/virtualenvs/mc_salt/bin/python
Command /opt/stackstorm/virt...s/mc_salt/bin/python -m pip config list had error code 1
Installing setuptools, pip, wheel...

  Complete output from command /opt/stackstorm/virt...s/mc_salt/bin/python - setuptools pip wheel:
  Traceback (most recent call last):
  File "&lt;stdin&gt;", line 4, in &lt;module&gt;
  File "/usr/lib64/python2.7/tempfile.py", line 32, in &lt;module&gt;
    import io as _io
  File "/usr/lib64/python2.7/io.py", line 51, in &lt;module&gt;
    import _io
ImportError: No module named _io
</code></pre>
            <p>The pack installation succeeds if I install a newer Python 2 version manually and run the exact command
                we see in our chef cookbook with the new Python executable. Any ideas on how to proceed?</p>
        </div>

        <meta itemprop='headline' content='St2 pack install fails with python 2.7.5 on Oracle Linux 7'>
        <meta itemprop='keywords' content='packs, python'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/kami'><span itemprop='name'>kami</span></a>
            (Tomaz Muraus)
          </span>

            <link itemprop="mainEntityOfPage" href="954.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-12-10T17:24:15Z' class='post-time'>
                December 10, 2019,  5:24pm
              </time>
              <meta itemprop='dateModified' content='2019-12-10T17:24:15Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>How did you install StackStorm?</p>
            <p>We don‚Äôt offer official RPM packages for Oracle Linux so the best and safest way is to install it
                manually from source (<a href="https://docs.stackstorm.com/development/sources.html"
                                         class="inline-onebox">Run From Sources ‚Äî StackStorm 3.1.0 documentation</a>).
            </p>
            <p>Issue appears to be related to using RPM packages for a different distribution which likely ships with a
                different Python version than the system one (so likely the issue is using bundled python binary which
                is different from the system one).</p>
            <hr>
            <p>You could also try playing and copying system python2 binary into
                <code>/vol_01/opt/stackstorm/st2/bin</code> and seeing if that helps, but there are many more things
                which are likely affecting that (also the dist-packages, C extensions, etc.) so there is no guarantee
                that will work.</p>
        </div>

        <meta itemprop='headline' content='St2 pack install fails with python 2.7.5 on Oracle Linux 7'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/Manik'><span itemprop='name'>Manik</span></a>
            (Brian Thompson)
          </span>

            <link itemprop="mainEntityOfPage" href="954.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-12-10T18:23:37Z' class='post-time'>
                December 10, 2019,  6:23pm
              </time>
              <meta itemprop='dateModified' content='2019-12-10T18:36:03Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>I believe you are correct, and am glad you pointed that out. Previously we were using RHEL (a long time
                ago), but now we are using Oracle Linux and upgrading from OL6 to OL7.</p>
            <p>I will give the instructions laid out in the link you gave me a shot and then get back to you here.</p>
        </div>

        <meta itemprop='headline' content='St2 pack install fails with python 2.7.5 on Oracle Linux 7'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/Manik'><span itemprop='name'>Manik</span></a>
            (Brian Thompson)
          </span>

            <link itemprop="mainEntityOfPage" href="954.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-12-10T18:37:39Z' class='post-time'>
                December 10, 2019,  6:37pm
              </time>
              <meta itemprop='dateModified' content='2019-12-10T18:37:39Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Sorry for the confusion, we‚Äôre using the same procedures that we used to install stackstorm on OL6 to
                install on OL7, with the .el7 packages and some slight differences. I believe the RPMs we are using work
                on OL.</p>
        </div>

        <meta itemprop='headline' content='St2 pack install fails with python 2.7.5 on Oracle Linux 7'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>


    <!-- :preload-content -->
    <footer class="noscript-footer-nav">
        <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='../../index.html'>Home</a>
            <a href="../../categories.html">Categories</a>
            <a href="https://forum.stackstorm.com/guidelines">FAQ/Guidelines</a>
            <a href="../../tos.html">Terms of Service</a>
            <a href="../../privacy.html">Privacy Policy</a>
        </nav>
    </footer>
</div>

<footer id='noscript-footer'>
    <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>


<section id='main'>
</section>


</body>
</html>
