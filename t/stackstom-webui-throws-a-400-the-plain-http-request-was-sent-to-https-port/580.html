<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device text-size-normal anon">
<head>
    <meta charset="utf-8">
    <title>Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port) - Operations - StackStorm
        Support (ARCHIVED)</title>
    <meta name="description" content="We are configuring the st2-docker/runtime/kubernetes-1ppc at master ¬∑ StackStorm/st2-docker ¬∑ GitHub deployment for stackstorm in our Sandbox. 
We have our nginx-ingress controller where we are terminating the SSL connec&amp;hellip;">
    <meta name="discourse_theme_id" content="2">
    <meta name="discourse_current_homepage" content="latest">
    <meta name="generator"
          content="Discourse 2.8.0.beta6 - https://github.com/discourse/discourse version a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787">
    <link rel="icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_32x32.PNG">
    <link rel="apple-touch-icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_180x180.PNG">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <link rel="canonical" href="580.html"/>
    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https://forum.stackstorm.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://forum.stackstorm.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml"
          title="StackStorm Support (ARCHIVED) Search">


    <link href="/../../stylesheets/color_definitions_base__2_3c5eec1ecf192052ea70b4afdab57a62bccc0604.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" class="light-scheme"/>

    <link href="/../../stylesheets/desktop_b2f2968742d41481357e0df259b51ce29f72481a.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" data-target="desktop"/>


    <meta name="fragment" content="!">


    <link id="manifest-link" rel="manifest" href="../../manifest.webmanifest" crossorigin="use-credentials">


    <link rel="alternate" type="application/rss+xml"
          title="RSS feed of &#39;Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)&#39;"
          href="https://forum.stackstorm.com/t/stackstom-webui-throws-a-400-the-plain-http-request-was-sent-to-https-port/580.rss"/>
    <meta property="og:site_name" content="StackStorm Support (ARCHIVED)"/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:url"
          content="https://forum.stackstorm.com/t/stackstom-webui-throws-a-400-the-plain-http-request-was-sent-to-https-port/580"/>
    <meta name="twitter:url"
          content="https://forum.stackstorm.com/t/stackstom-webui-throws-a-400-the-plain-http-request-was-sent-to-https-port/580"/>
    <meta property="og:title" content="Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)"/>
    <meta name="twitter:title" content="Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)"/>
    <meta property="og:description"
          content="We are configuring the st2-docker/runtime/kubernetes-1ppc at master ¬∑ StackStorm/st2-docker ¬∑ GitHub deployment for stackstorm in our Sandbox.  We have our nginx-ingress controller where we are terminating the SSL connection. It looks like WebUI uses Nginx internally and when we access the webui, we are receiving the error ‚ÄúThe Plain http request was sent to Https port‚Äù.  Can anyone help us with a workaround. We would ultimately be moving to using helm but we need our internal team to get starte..."/>
    <meta name="twitter:description"
          content="We are configuring the st2-docker/runtime/kubernetes-1ppc at master ¬∑ StackStorm/st2-docker ¬∑ GitHub deployment for stackstorm in our Sandbox.  We have our nginx-ingress controller where we are terminating the SSL connection. It looks like WebUI uses Nginx internally and when we access the webui, we are receiving the error ‚ÄúThe Plain http request was sent to Https port‚Äù.  Can anyone help us with a workaround. We would ultimately be moving to using helm but we need our internal team to get starte..."/>
    <meta property="article:published_time" content="2019-04-02T23:33:11+00:00"/>
    <meta property="og:ignore_canonical" content="true"/>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "QAPage",
        "name": "Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)",
        "mainEntity": {
            "@type": "Question",
            "name": "Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)",
            "text": "We are configuring the <a href="
            https://forum.stackstorm.com/t/stackstom-webui-throws-a-400-the-plain-http-request-was-sent-to-https-port/\&quot;https://github.com/StackStorm/st2-docker/tree/master/runtime/kubernetes-1ppc\&quot;" class=\"inline-onebox\" rel=\"nofollow noopener\">st2-docker/runtime/kubernetes-1ppc at master ¬∑ StackStorm/st2-docker ¬∑ GitHub<\/a> deployment for stackstorm in our Sandbox.\n\nWe have our nginx-ingress controller where we are terminating the SSL connection. It looks like WebUI uses Nginx internally and when we access the webui, we&hellip;","upvoteCount":0,"answerCount":0,"dateCreated":"2019-04-02T23:33:11.128Z","author":{"@type":"Person","name":"Hnanchahal"}}}
    </script>

    <meta id="data-discourse-setup" data-cdn="https://sjc6.discourse-cdn.com/standard10"
          data-base-url="https://forum.stackstorm.com" data-base-uri="" data-environment="production"
          data-letter-avatar-version="5_8fec8e114563efeaf5265573e510f08e"
          data-markdown-it-url="https://aws1.discourse-cdn.com/standard10/assets/markdown-it-bundle-31e9a9c535ca1801c26da78b0ff465821751a98f921c5cdc5457d7e5a69e9748.js"
          data-service-worker-url="service-worker.js" data-default-locale="en"
          data-asset-version="597e36448c9b51d0fa3b7e43ec1fd6d5" data-disable-custom-css="false"
          data-highlight-js-path="/highlight-js/forum.stackstorm.com/ac0f4aa001e1343346941766d72e0c1ae330832b.js"
          data-svg-sprite-path="/svg-sprite/forum.stackstorm.com/svg-2-c2ad434b1e06079c7e282124aed9938dc95b83ea.js"
          data-enable-js-error-reporting="true" data-color-scheme-is-dark="false" data-user-dark-scheme-id="-1"
          data-s3-cdn="https://aws1.discourse-cdn.com/standard10"
          data-s3-base-url="//discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/standard10">

    <meta name="discourse/config/environment"
          content="%7B%22modulePrefix%22%3A%22discourse%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%22%2C%22locationType%22%3A%22auto%22%2C%22historySupportMiddleware%22%3Afalse%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22discourse%22%2C%22version%22%3A%222.8.0.beta6%20a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787%22%2C%22exportApplicationGlobal%22%3Atrue%7D%7D"/>
</head>

<body class="">


<header class="d-header">
    <div class="wrap">
        <div class="contents clearfix">
            <div class="title">
                <a href="../../index.html">
                    <picture>
                        <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png"
                             alt="StackStorm Support (ARCHIVED)" id="site-logo"/>
                    </picture>
                </a>
            </div>

        </div>
    </div>
</header>

<div id="main-outlet" class="wrap" role="main">
    <!-- preload-content: -->

    <!-- EOF START -->
    <div class="container" id="main-container">
        <div id="ember11" class="ember-view"></div>
        <div id="ember12" class="controls ember-view"><!----></div>
        <div id="ember13" class="ember-view"><!----></div>
        <div id="ember14" class="ember-view">
            <div class="row">
                <div id="global-notice-alert-read-only" class="alert alert-info alert-read-only">
                    <!----> <span class="text">This site is in read only mode. Please continue to browse, but replying, likes, and other actions are disabled for now.</span>

                    <!---->    </div>
            </div>
            <div class="row">
                <div id="global-notice-alert-global-notice" class="alert alert-info alert-global-notice">
                    <!----> <span class="text"><h3>‚ö†Ô∏è We've moved!</h3>  <p> Hi there!<br><br> To reduce project dependency on 3rd party paid services the StackStorm TSC has decided to move the Q/A from this forum to <a
                        href="https://github.com/StackStorm/st2/discussions">Github Discussions</a>. This will make user experience better integrated with the native Github flow, as well as the questions closer to the community where they can provide answers. </p>  <p> Use üîó <b><a
                        href="https://github.com/StackStorm/st2/discussions" class="active">Github Discussions</a></b> to ask your questions. </p></span>

                    <!---->    </div>
            </div>
        </div>
        <div id="ember17" class="hidden create-topics-notice ember-view"><!----></div>
        <!---->
    </div>
    <!-- EOF END -->
    <div id="topic-title">
        <h1>
            <a href="580.html">Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)</a>
        </h1>

        <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/operations-related-issues/20" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #283890'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Operations</span>
              </span>
            </a>
            <meta itemprop="position" content="1"/>
          </span>
        </div>

        <div class="topic-category">
            <div class='discourse-tags list-tags'>
                <a href='../../tag/st2web' class='discourse-tag' rel="tag">st2web</a>,
                <a href='../../tag/k8s' class='discourse-tag' rel="tag">k8s</a>,
                <a href='../../tag/docker' class='discourse-tag' rel="tag">docker</a>
            </div>
        </div>
    </div>


    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/hnanchahal'><span
                    itemprop='name'>hnanchahal</span></a>
            (Hnanchahal)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-02T23:33:11Z' class='post-time'>
                April 2, 2019, 11:33pm
              </time>
              <meta itemprop='dateModified' content='2019-04-04T13:41:11Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>We are configuring the <a
                    href="https://github.com/StackStorm/st2-docker/tree/master/runtime/kubernetes-1ppc"
                    class="inline-onebox" rel="nofollow noopener">st2-docker/runtime/kubernetes-1ppc at master ¬∑
                StackStorm/st2-docker ¬∑ GitHub</a> deployment for stackstorm in our Sandbox.</p>
            <p>We have our nginx-ingress controller where we are terminating the SSL connection. It looks like WebUI
                uses Nginx internally and when we access the webui, we are receiving the error ‚ÄúThe Plain http request
                was sent to Https port‚Äù.</p>
            <p>Can anyone help us with a workaround. We would ultimately be moving to using helm but we need our
                internal team to get started with Stackstorm quickly and we have done couple of days of investment in
                setting this up.</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>
        <meta itemprop='keywords' content='st2web, k8s, docker'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-02T23:47:08Z' class='post-time'>
                April 2, 2019, 11:47pm
              </time>
              <meta itemprop='dateModified' content='2019-04-02T23:47:08Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>The web UI nginx config does HTTP -&gt; HTTPS redirect, and SSL termination. It then does reviser proxy
                to the various st2 services on ports 9100, 9101, etc.</p>
            <p>If you want to use your own SSL termination frontend, that‚Äôs fine. You could completely replace all the
                existing nginx config and just reverse proxy direct to the ST2 services. Or if you want to do plaintext
                from your nginx container to the st2 nginx instance, you could change the st2 nginx config to not do
                redirects for http.</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T00:11:27Z' class='post-time'>
                April 3, 2019, 12:11am
              </time>
              <meta itemprop='dateModified' content='2019-04-03T00:11:27Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Also, if you just need to stand up a quick dev/test environment, it might be easier to do the scripted
                install on an Ubuntu or RHEL VM.</p>
            <p>Removes some container-related complications &amp; distractions at this stage</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/hnanchahal'><span
                    itemprop='name'>hnanchahal</span></a>
            (Hnanchahal)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T17:07:09Z' class='post-time'>
                April 3, 2019,  5:07pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T17:07:09Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <aside class="quote no-group" data-post="2" data-topic="580">
                <div class="title">
                    <div class="quote-controls"></div>
                    <img alt width="20" height="20" src="https://avatars.discourse.org/v2/letter/l/edb3f5/40.png"
                         class="avatar"> lhill:
                </div>
                <blockquote>
                    <p>You could completely replace all the existing nginx config and just reverse proxy direct to the
                        ST2 services.</p>
                </blockquote>
            </aside>
            <p>Can you point to me to where i can find the st2 nginx config?</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T18:00:19Z' class='post-time'>
                April 3, 2019,  6:00pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T18:00:19Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p><code>/etc/nginx/conf.d/st2.conf</code> I think. Might depend a little on the OS &amp; setup.</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/hnanchahal'><span
                    itemprop='name'>hnanchahal</span></a>
            (Hnanchahal)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T18:03:26Z' class='post-time'>
                April 3, 2019,  6:03pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T18:03:26Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <aside class="quote no-group" data-post="2" data-topic="580">
                <div class="title">
                    <div class="quote-controls"></div>
                    <img alt width="20" height="20" src="https://avatars.discourse.org/v2/letter/l/edb3f5/40.png"
                         class="avatar"> lhill:
                </div>
                <blockquote>
                    <p>SL termination frontend, that‚Äôs fine. You could completely replace all the existing nginx config
                        and just reverse proxy direct to the ST2 services. Or if you want to do plaintext from your
                        nginx container to the st2 nginx instance, you could change the st2 nginx config to not do
                        redirects for http.</p>
                </blockquote>
            </aside>
            <p>I mean, i used the official stackstorm docker image to run on kubernetes. Are you saying i update the
                configs as they exist on the containers? Or do i update the configs, package the contents and then
                deploy?</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T19:00:41Z' class='post-time'>
                April 3, 2019,  7:00pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T19:00:41Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <aside class="quote no-group" data-post="6" data-topic="580">
                <div class="title">
                    <div class="quote-controls"></div>
                    <img alt width="20" height="20" src="https://avatars.discourse.org/v2/letter/h/bc79bd/40.png"
                         class="avatar"> hnanchahal:
                </div>
                <blockquote>
                    <p>i used the official stackstorm docker image to run on kubernetes</p>
                </blockquote>
            </aside>
            <p>Are you using the Helm Charts at <a href="http://github.com/StackStorm/stackstorm-ha"
                                                   rel="nofollow noopener">github.com/StackStorm/stackstorm-ha</a> or
                something custom?</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/hnanchahal'><span
                    itemprop='name'>hnanchahal</span></a>
            (Hnanchahal)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T19:11:59Z' class='post-time'>
                April 3, 2019,  7:11pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T19:11:59Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>I am using <a href="https://github.com/StackStorm/st2-docker" class="inline-onebox"
                             rel="nofollow noopener">GitHub - StackStorm/st2-docker: Official docker container for
                StackStorm.</a></p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/lhill'><span itemprop='name'>lhill</span></a>
            (Lindsay Hill)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-03T20:00:55Z' class='post-time'>
                April 3, 2019,  8:00pm
              </time>
              <meta itemprop='dateModified' content='2019-04-03T20:00:55Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>If you‚Äôre running on Kubernetes, you‚Äôre better off using the helm charts at stackstorm-ha.</p>
            <p>You can of course do your own thing using those other containers; it‚Äôs up to you. If you want to modify
                the nginx config in those containers, you‚Äôd need to build a custom container.</p>
            <p>But if you‚Äôre doing your own external SSL termination, then there‚Äôs a couple of slightly easier
                options:<br>
                1/ Do SSL from your external SSL termination point to the st2web container. Don‚Äôt switch to
                plaintext.<br>
                2/ Look at the default nginx config here: <a
                        href="https://github.com/StackStorm/st2/blob/master/conf/nginx/st2.conf" class="inline-onebox"
                        rel="nofollow noopener">st2/st2.conf at master ¬∑ StackStorm/st2 ¬∑ GitHub</a> - note the reverse
                proxy config in there. You could implement the same thing on your external SSL termination point. So you
                go &lt;external SSL termination/load balancer&gt; -&gt; direct to st2auth, st2api containers. Do that,
                rather than going -&gt; -&gt; st2api, st2auth</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/armab'><span itemprop='name'>armab</span></a>
            (Eugen Cusmaunsa)
          </span>

            <link itemprop="mainEntityOfPage" href="580.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-04-04T12:53:34Z' class='post-time'>
                April 4, 2019, 12:53pm
              </time>
              <meta itemprop='dateModified' content='2019-04-04T13:40:15Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p><a class="mention" href="https://github.com/hnanchahal">@hnanchahal</a> Just pay attention
                that <code>kubernetes-1ppc</code> is deprecated and will be removed soon in favor of
                <code>stackstorm-ha</code>, according to <a
                        href="https://github.com/StackStorm/st2-docker/tree/master/runtime/kubernetes-1ppc#note"
                        class="inline-onebox" rel="nofollow noopener">st2-docker/runtime/kubernetes-1ppc at master ¬∑
                    StackStorm/st2-docker ¬∑ GitHub</a> notes.</p>
            <p>As for Helm/Kubernetes, Ingress controller and HTTP vs HTTPs, per several discussions <a
                    href="https://github.com/StackStorm/stackstorm-ha/issues/6" class="inline-onebox"
                    rel="nofollow noopener">K8s Ingress Controller ¬∑ Issue #6 ¬∑ StackStorm/stackstorm-ha ¬∑ GitHub</a>
                and <a href="https://github.com/StackStorm/stackstorm-ha/pull/44#issuecomment-459060262"
                       class="inline-onebox" rel="nofollow noopener">Add support to specify images name and to enable
                    HTTP for st2web by GGabriele ¬∑ Pull Request #44 ¬∑ StackStorm/stackstorm-ha ¬∑ GitHub</a> what you
                want will be supported in future. Our plan is the following:</p>
            <ol>
                <li>Expose Ingress controller settings via Helm <code>values.yaml</code> to allow users to configure the
                    SSL/TLS negotiation layer on their own (optional).
                </li>
                <li>Change <code>st2web</code> Docker image so it will respond on HTTP by default (currently HTTPS).
                </li>
            </ol>
            <p>^^ that will cover your case and also follows K8s/Helm best practices giving some more flexibility.</p>
            <hr>
            <p>As a workaround for your current situation, you can simply configure your infra to work like this:</p>
            <pre><code class="lang-auto">HTTPs (st2web nginx) &lt;&gt; HTTPs (your ingress controller or load-balancer or whatever).
</code></pre>
            <p>eg. place your HTTPs load balancer or Ingress in front of existing st2web HTTPs. Just point it to HTTPs
                endpoint, not HTTP one. That‚Äôll bring some overhead, but overall should be fine as a temporary
                solution.</p>
            <p>That‚Äôs also what <a class="mention" href="https://github.com/lhill">@lhill</a> is suggesting
                as <span class="hashtag">#1</span> option and we‚Äôre even using something similar in parts of our
                internal infrastructure.</p>
        </div>

        <meta itemprop='headline'
              content='Stackstom WebUI throws a 400 ( The plain Http request was sent to Https port)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>


    <!-- :preload-content -->
    <footer class="noscript-footer-nav">
        <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='../../index.html'>Home</a>
            <a href="../../categories.html">Categories</a>
            <a href="https://forum.stackstorm.com/guidelines">FAQ/Guidelines</a>
            <a href="../../tos.html">Terms of Service</a>
            <a href="../../privacy.html">Privacy Policy</a>
        </nav>
    </footer>
</div>

<footer id='noscript-footer'>
    <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>


<section id='main'>
</section>


</body>
</html>
