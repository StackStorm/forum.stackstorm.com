<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device text-size-normal anon">
<head>
    <meta charset="utf-8">
    <title>Workflow variable comparison - Workflows - StackStorm Support (ARCHIVED)</title>
    <meta name="description"
          content="I am new to Stackstorm, Orquesta, YAML, pretty much all of it.  I have been tasked with creating a workflow which will check the available drive space of remote machines, clean up targetted files, and exiting.  I‚Äôve figu&amp;hellip;">
    <meta name="discourse_theme_id" content="2">
    <meta name="discourse_current_homepage" content="latest">
    <meta name="generator"
          content="Discourse 2.8.0.beta6 - https://github.com/discourse/discourse version a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787">
    <link rel="icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_32x32.PNG">
    <link rel="apple-touch-icon" type="image/png"
          href="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/optimized/1X/379ced12f8326d58f1b3d2b3ff652f883e141f6a_2_180x180.PNG">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <link rel="canonical" href="1741.html"/>
    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https://forum.stackstorm.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://forum.stackstorm.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }</script>
    <link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml"
          title="StackStorm Support (ARCHIVED) Search">


    <link href="/../../stylesheets/color_definitions_base__2_3c5eec1ecf192052ea70b4afdab57a62bccc0604.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" class="light-scheme"/>

    <link href="/../../stylesheets/desktop_b2f2968742d41481357e0df259b51ce29f72481a.css?__ws=forum.stackstorm.com"
          media="all" rel="stylesheet" data-target="desktop"/>


    <meta name="fragment" content="!">


    <link id="manifest-link" rel="manifest" href="../../manifest.webmanifest" crossorigin="use-credentials">


    <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Workflow variable comparison&#39;"
          href="1741.rss"/>
    <meta property="og:site_name" content="StackStorm Support (ARCHIVED)"/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:image"
          content="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/891f00fbdb31fecb5bd9dab30c186d2fed0091ca.jpeg"/>
    <meta property="og:url" content="https://forum.stackstorm.com/t/workflow-variable-comparison/1741"/>
    <meta name="twitter:url" content="https://forum.stackstorm.com/t/workflow-variable-comparison/1741"/>
    <meta property="og:title" content="Workflow variable comparison"/>
    <meta name="twitter:title" content="Workflow variable comparison"/>
    <meta property="og:description"
          content="I am new to Stackstorm, Orquesta, YAML, pretty much all of it.  I have been tasked with creating a workflow which will check the available drive space of remote machines, clean up targetted files, and exiting.  I‚Äôve figured out the part of getting the drive space availability, but am now trying to come up with an action (using core.noop) that will determine the result of the previous action (getting the drive space) and compare it to a predefined amount.  In the action where I gather the value, ..."/>
    <meta name="twitter:description"
          content="I am new to Stackstorm, Orquesta, YAML, pretty much all of it.  I have been tasked with creating a workflow which will check the available drive space of remote machines, clean up targetted files, and exiting.  I‚Äôve figured out the part of getting the drive space availability, but am now trying to come up with an action (using core.noop) that will determine the result of the previous action (getting the drive space) and compare it to a predefined amount.  In the action where I gather the value, ..."/>
    <meta name="twitter:label1" value="Reading time"/>
    <meta name="twitter:data1" value="2 mins üïë"/>
    <meta name="twitter:label2" value="Likes"/>
    <meta name="twitter:data2" value="5 ‚ù§"/>
    <meta property="article:published_time" content="2021-06-20T03:43:52+00:00"/>
    <meta property="og:ignore_canonical" content="true"/>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "QAPage",
        "name": "Workflow variable comparison",
        "mainEntity": {
            "@type": "Question",
            "name": "Workflow variable comparison",
            "text": "I am new to Stackstorm, Orquesta, YAML, pretty much all of it.  I have been tasked with creating a workflow which will check the available drive space of remote machines, clean up targetted files, and exiting.  I‚Äôve figured out the part of getting the drive space availability, but am now trying to c&hellip;",
            "upvoteCount": 0,
            "answerCount": 1,
            "dateCreated": "2021-06-20T03:43:52.003Z",
            "author": {
                "@type": "Person",
                "name": "Ryan L Irwin"
            },
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Looks like the core.remote supports multiple hosts as input and therefore returns the results for each host as a separate dictionary in the results.  Therefore, you need to modify the publish slightly to extract the correct data.  The following workflow should work with the core.remote command using&hellip;",
                "upvoteCount": 1,
                "dateCreated": "2021-06-25T16:48:06.752Z",
                "url": "https://forum.stackstorm.com/t/workflow-variable-comparison/1741/10",
                "author": {
                    "@type": "Person",
                    "name": "jamesdreid"
                }
            }
        }
    }</script>

    <meta id="data-discourse-setup" data-cdn="https://sjc6.discourse-cdn.com/standard10"
          data-base-url="https://forum.stackstorm.com" data-base-uri="" data-environment="production"
          data-letter-avatar-version="5_8fec8e114563efeaf5265573e510f08e"
          data-markdown-it-url="https://aws1.discourse-cdn.com/standard10/assets/markdown-it-bundle-31e9a9c535ca1801c26da78b0ff465821751a98f921c5cdc5457d7e5a69e9748.js"
          data-service-worker-url="service-worker.js" data-default-locale="en"
          data-asset-version="597e36448c9b51d0fa3b7e43ec1fd6d5" data-disable-custom-css="false"
          data-highlight-js-path="/highlight-js/forum.stackstorm.com/ac0f4aa001e1343346941766d72e0c1ae330832b.js"
          data-svg-sprite-path="/svg-sprite/forum.stackstorm.com/svg-2-c2ad434b1e06079c7e282124aed9938dc95b83ea.js"
          data-enable-js-error-reporting="true" data-color-scheme-is-dark="false" data-user-dark-scheme-id="-1"
          data-s3-cdn="https://aws1.discourse-cdn.com/standard10"
          data-s3-base-url="//discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/standard10">

    <meta name="discourse/config/environment"
          content="%7B%22modulePrefix%22%3A%22discourse%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%22%2C%22locationType%22%3A%22auto%22%2C%22historySupportMiddleware%22%3Afalse%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22discourse%22%2C%22version%22%3A%222.8.0.beta6%20a1daf9fe53a66e2d2cdf9757ab4812fb9a2b2787%22%2C%22exportApplicationGlobal%22%3Atrue%7D%7D"/>
</head>

<body class="">


<header class="d-header">
    <div class="wrap">
        <div class="contents clearfix">
            <div class="title">
                <a href="../../index.html">
                    <picture>
                        <img src="https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png"
                             alt="StackStorm Support (ARCHIVED)" id="site-logo"/>
                    </picture>
                </a>
            </div>

        </div>
    </div>
</header>

<div id="main-outlet" class="wrap" role="main">
    <!-- preload-content: -->

    <!-- EOF START -->
    <div class="container" id="main-container">
        <div id="ember11" class="ember-view"></div>
        <div id="ember12" class="controls ember-view"><!----></div>
        <div id="ember13" class="ember-view"><!----></div>
        <div id="ember14" class="ember-view">
            <div class="row">
                <div id="global-notice-alert-read-only" class="alert alert-info alert-read-only">
                    <!----> <span class="text">This site is in read only mode. Please continue to browse, but replying, likes, and other actions are disabled for now.</span>

                    <!---->    </div>
            </div>
            <div class="row">
                <div id="global-notice-alert-global-notice" class="alert alert-info alert-global-notice">
                    <!----> <span class="text"><h3>‚ö†Ô∏è We've moved!</h3>  <p> Hi there!<br><br> To reduce project dependency on 3rd party paid services the StackStorm TSC has decided to move the Q/A from this forum to <a
                        href="https://github.com/StackStorm/st2/discussions">Github Discussions</a>. This will make user experience better integrated with the native Github flow, as well as the questions closer to the community where they can provide answers. </p>  <p> Use üîó <b><a
                        href="https://github.com/StackStorm/st2/discussions" class="active">Github Discussions</a></b> to ask your questions. </p></span>

                    <!---->    </div>
            </div>
        </div>
        <div id="ember17" class="hidden create-topics-notice ember-view"><!----></div>
        <!---->
    </div>
    <!-- EOF END -->
    <div id="topic-title">
        <h1>
            <a href="1741.html">Workflow variable comparison</a>
        </h1>

        <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/workflow-related-issues/15" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Workflows</span>
              </span>
            </a>
            <meta itemprop="position" content="1"/>
          </span>
        </div>

    </div>


    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/bretai2k'><span itemprop='name'>bretai2k</span></a>
            (Ryan L Irwin)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-20T03:43:52Z' class='post-time'>
                June 20, 2021,  3:43am
              </time>
              <meta itemprop='dateModified' content='2021-06-20T03:43:52Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>I am new to Stackstorm, Orquesta, YAML, pretty much all of it. I have been tasked with creating a
                workflow which will check the available drive space of remote machines, clean up targetted files, and
                exiting. I‚Äôve figured out the part of getting the drive space availability, but am now trying to come up
                with an action (using core.noop) that will determine the result of the previous action (getting the
                drive space) and compare it to a predefined amount. In the action where I gather the value, I am
                publishing the result to a variable called ‚Äúavailablediskspace‚Äù. By looking at other examples I‚Äôve found
                out in the ether, I thought maybe the following would work:</p>
            <p>action: core.noop<br>
                next:</p>
            <ul>
                <li>when: &lt;% availablediskspace &lt;= 15 %&gt;<br>
                    do: nextaction
                </li>
            </ul>
            <p>The workflow fails and the output I get is:</p>
            <p>‚ÄúYaqlEvaluationException: Unable to evaluate expression ‚Äò&lt;% availablediskspace &lt;= 15 %&gt;‚Äô.
                NoMatchingFunctionException: No function ‚Äú#operator_&lt;=‚Äù matches supplied arguments‚Äù,</p>
            <p>I‚Äôm not sure if the issue is that ‚Äòavailablediskspace‚Äô isn‚Äôt seen as an integer (which brings up another
                question as to how I cast that as an integer for this purpose), or if you really can‚Äôt do things like
                this. Any help would be greatly appreciated.</p>
            <p>TIA</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>
        <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/jamesdreid'><span
                    itemprop='name'>jamesdreid</span></a>
            (James Reid)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-21T18:50:02Z' class='post-time'>
                June 21, 2021,  6:50pm
              </time>
              <meta itemprop='dateModified' content='2021-06-21T18:50:02Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>You need to reference the global context to check that variable. Your syntax is not correct and it should
                be:</p>
            <p>when &lt;% ctx(availablediskspace) &lt;= 15 %&gt;</p>
            <p>or</p>
            <p>when &lt;% ctx().availablediskspace &lt;= 15 %&gt;</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/bretai2k'><span itemprop='name'>bretai2k</span></a>
            (Ryan L Irwin)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-21T21:22:24Z' class='post-time'>
                June 21, 2021,  9:22pm
              </time>
              <meta itemprop='dateModified' content='2021-06-21T21:22:24Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Thank you jamesdreid. I tried both, but I still get the same error. It make me wonder if the data in
                availablediskspace is being cast as a string instead of an int. Is there a way to specifically cast a
                variable as an int in Yaql?</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/jamesdreid'><span
                    itemprop='name'>jamesdreid</span></a>
            (James Reid)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-22T16:39:14Z' class='post-time'>
                June 22, 2021,  4:39pm
              </time>
              <meta itemprop='dateModified' content='2021-06-22T16:39:14Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Sure‚Ä¶</p>
            <pre><code class="lang-auto">when &lt;% int(ctx().availablediskspace) &lt;= 15 %&gt;
</code></pre>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/bretai2k'><span itemprop='name'>bretai2k</span></a>
            (Ryan L Irwin)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-23T21:21:35Z' class='post-time'>
                June 23, 2021,  9:21pm
              </time>
              <meta itemprop='dateModified' content='2021-06-23T21:21:35Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Unfortunately that didn‚Äôt help. I guess I should provide a bit more details. The value of
                availablediskspace comes from the result of a bash command on a remote machine.</p>
            <p>The specific command I‚Äôm running is echo $((100 - (<code>df -h / | grep -Eo "[0-9]+[BKMGT%] " | tail -1 |
                grep -Eo "[0-9]+"</code>)))</p>
            <p>I do really appreciate all of your help so far, this is all new to me and I‚Äôm not finding too much
                helpful documentation for Stackstorm or YAQL expressions which address my specific situation, or even
                remotely close to my situation.</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/jamesdreid'><span
                    itemprop='name'>jamesdreid</span></a>
            (James Reid)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-24T14:16:36Z' class='post-time'>
                June 24, 2021,  2:16pm
              </time>
              <meta itemprop='dateModified' content='2021-06-24T14:16:36Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>The error being generated is the same I see on <a href="http://yaqluator.com/"
                                                                 rel="noopener nofollow ugc">http://yaqluator.com/</a>
                when trying to compare the string ‚Äò15‚Äô to the int 15.</p>
            <p><code>'15'&gt;=15</code></p>
            <p>That generates the error: Exception evaluating YAQL expression:</p>
            <p><code>No function "#operator_&gt;=" matches supplied arguments</code></p>
            <p>The the int() function above applied to the ‚Äò15‚Äô string I suggested above corrects this.</p>
            <p><code>int('15') &gt;= 15</code></p>
            <p>You can try adding a core.echo into the workflow and have it output the variables to see if you are
                getting data returned that you are not expecting, but it appears at this point that maybe your
                ‚Äúavailablediskspace‚Äù is not getting set to what you expect and it is not an integer or even something
                that can be converted to an integer.</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/bretai2k'><span itemprop='name'>bretai2k</span></a>
            (Ryan L Irwin)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-24T14:53:51Z' class='post-time'>
                June 24, 2021,  2:53pm
              </time>
              <meta itemprop='dateModified' content='2021-06-24T14:54:58Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>The latter part of your last statement appears to be the case, meaning I may have to move to utilizing a
                Python script instead of core.remote to grab the data so I can actually cast the data specifically into
                an integer. What I get when I try to cast to int in the workflow, it gives me a YaqlEvaluationException
                saying it can‚Äôt change from a ‚ÄòFrozenDict‚Äô. Thank you for all of your help, it has definitely helped me
                understand all of this a little better.</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/jamesdreid'><span
                    itemprop='name'>jamesdreid</span></a>
            (James Reid)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-24T20:56:44Z' class='post-time'>
                June 24, 2021,  8:56pm
              </time>
              <meta itemprop='dateModified' content='2021-06-24T20:56:44Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>I don‚Äôt think the workflow is failing due to the use of a core.remote command. It seems like you are not
                publishing your variable correctly. The following simple workflow uses the core.local command to execute
                your df command on my local ST2 server, then sets the results to a variable that is used in a YAQL
                comparison like you have attempted.</p>
            <pre><code class="lang-auto">version: 1.0
tasks:
  # 
  task1:
    action: core.local
    input:
      cmd: " echo $((100 - $(df -h / | grep -Eo \"[0-9]+[BKMGT%] \" | tail -1 | grep -Eo \"[0-9]+\")))"
    next:
      - do:
          - task2
        when: &lt;% succeeded() %&gt;
        publish:
          - availablediskspace: &lt;% result().stdout %&gt;
  # [342, 437]
  task2:
    action: core.noop
    next:
      - do:
          - task3
        when: &lt;% int(ctx(availablediskspace)) &lt;= 50 %&gt;
  # 
  task3:
    action: core.echo
    input:
      message: Greater
vars:
  - availablediskspace: null
</code></pre>
            <p>If I have to guess, you have set the variable incorrectly and may be setting it to &lt;% result() %&gt;
                but the output data you want is actually what is included in ‚Äústdout‚Äù. I did not use core.remote but my
                guess is yo want to try using my publish to set your variable for further comparison:</p>
            <pre><code class="lang-auto">availablediskspace: &lt;% result().stdout %&gt;
</code></pre>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/bretai2k'><span itemprop='name'>bretai2k</span></a>
            (Ryan L Irwin)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-24T21:27:52Z' class='post-time'>
                June 24, 2021,  9:27pm
              </time>
              <meta itemprop='dateModified' content='2021-06-24T21:27:52Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>It most definitely works if I change the action context to core.local, but does not work when attempting
                to use core.remote.</p>
            <p>That gives to following error:<br>
                ‚ÄúYaqlEvaluationException: Unable to resolve key ‚Äòstdout‚Äô in expression ‚Äò&lt;% result().stdout %&gt;‚Äô
                from context.‚Äù</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/jamesdreid'><span
                    itemprop='name'>jamesdreid</span></a>
            (James Reid)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-25T16:48:06Z' class='post-time'>
                June 25, 2021,  4:48pm
              </time>
              <meta itemprop='dateModified' content='2021-06-25T16:48:06Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>Looks like the core.remote supports multiple hosts as input and therefore returns the results for each
                host as a separate dictionary in the results. Therefore, you need to modify the publish slightly to
                extract the correct data. The following workflow should work with the core.remote command using a single
                host. Obviously, there will be a lot more logic to resolve if you plan on running this workflow on
                multiple hosts, but this should at least get the basic workflow going:</p>
            <pre><code class="lang-auto">version: 1.0
tasks:
  task2:
    action: core.noop
    next:
      - do:
          - task3
        when: &lt;% int(ctx(availablediskspace)) &gt;= 50 %&gt;
  task3:
    action: core.echo
    input:
      message: Greater
  task4:
    action: core.remote
    input:
      cmd: " echo $((100 - $(df -h / | grep -Eo \"[0-9]+[BKMGT%] \" | tail -1 | grep -Eo \"[0-9]+\")))"
      hosts: 1.1.1.1
      password: X*X*X*X*X*X*X*X*X*X*X*X
      username: username
    next:
      - do:
          - task2
        publish:
          - availablediskspace: " &lt;% result()['1.1.1.1']['stdout'] %&gt;"
        when: succeeded()
vars:
  - availablediskspace: null

</code></pre>
            <p>The big change is to the publish statement in Task4 where you have to go one level deeper into the result
                data to get the results:</p>
            <pre><code class="lang-auto"> - availablediskspace: " &lt;% result()['1.1.1.1']['stdout'] %&gt;"
</code></pre>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
            <span class='post-likes'>1 Like</span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1"/>
        </div>

    </div>
    <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
            <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
                <meta itemprop='name' content='StackStorm'>
                <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                    <meta itemprop='url'
                          content='https://aws1.discourse-cdn.com/standard10/uploads/stackstorm/original/1X/843840296d4160717941c20e214d0772ce899ab0.png'>
                </div>
            </div>
            <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://github.com/bretai2k'><span itemprop='name'>bretai2k</span></a>
            (Ryan L Irwin)
          </span>

            <link itemprop="mainEntityOfPage" href="1741.html">


            <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-25T17:56:23Z' class='post-time'>
                June 25, 2021,  5:56pm
              </time>
              <meta itemprop='dateModified' content='2021-06-25T17:56:23Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
            <p>You sir, are a genius! That has totally resolved my issue. Thank you so much for your continued support
                and handholding. <img src="https://emoji.discourse-cdn.com/apple/slight_smile.png?v=9"
                                      title=":slight_smile:" class="emoji" alt=":slight_smile:"> I appreciate all of
                your help so much.</p>
        </div>

        <meta itemprop='headline' content='Workflow variable comparison'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
            <span class='post-likes'></span>
        </div>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0"/>
        </div>

    </div>


    <!-- :preload-content -->
    <footer class="noscript-footer-nav">
        <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='../../index.html'>Home</a>
            <a href="../../categories.html">Categories</a>
            <a href="https://forum.stackstorm.com/guidelines">FAQ/Guidelines</a>
            <a href="../../tos.html">Terms of Service</a>
            <a href="../../privacy.html">Privacy Policy</a>
        </nav>
    </footer>
</div>

<footer id='noscript-footer'>
    <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>


<section id='main'>
</section>


</body>
</html>
